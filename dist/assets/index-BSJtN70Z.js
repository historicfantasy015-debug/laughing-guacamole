(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var $e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function eh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var hc={exports:{}},ci={},pc={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vr=Symbol.for("react.element"),th=Symbol.for("react.portal"),nh=Symbol.for("react.fragment"),rh=Symbol.for("react.strict_mode"),sh=Symbol.for("react.profiler"),ih=Symbol.for("react.provider"),oh=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),ah=Symbol.for("react.suspense"),uh=Symbol.for("react.memo"),ch=Symbol.for("react.lazy"),wa=Symbol.iterator;function dh(t){return t===null||typeof t!="object"?null:(t=wa&&t[wa]||t["@@iterator"],typeof t=="function"?t:null)}var gc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mc=Object.assign,vc={};function Kn(t,e,n){this.props=t,this.context=e,this.refs=vc,this.updater=n||gc}Kn.prototype.isReactComponent={};Kn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yc(){}yc.prototype=Kn.prototype;function wl(t,e,n){this.props=t,this.context=e,this.refs=vc,this.updater=n||gc}var _l=wl.prototype=new yc;_l.constructor=wl;mc(_l,Kn.prototype);_l.isPureReactComponent=!0;var _a=Array.isArray,wc=Object.prototype.hasOwnProperty,Sl={current:null},_c={key:!0,ref:!0,__self:!0,__source:!0};function Sc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)wc.call(e,r)&&!_c.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Vr,type:t,key:i,ref:o,props:s,_owner:Sl.current}}function fh(t,e){return{$$typeof:Vr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function kl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vr}function hh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Sa=/\/+/g;function Ai(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hh(""+t.key):e.toString(36)}function xs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vr:case th:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ai(o,0):r,_a(s)?(n="",t!=null&&(n=t.replace(Sa,"$&/")+"/"),xs(s,e,n,"",function(u){return u})):s!=null&&(kl(s)&&(s=fh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Sa,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",_a(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+Ai(i,l);o+=xs(i,e,n,a,s)}else if(a=dh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+Ai(i,l++),o+=xs(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ns(t,e,n){if(t==null)return t;var r=[],s=0;return xs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function ph(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ve={current:null},Cs={transition:null},gh={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:Cs,ReactCurrentOwner:Sl};function kc(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ns,forEach:function(t,e,n){ns(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ns(t,function(){e++}),e},toArray:function(t){return ns(t,function(e){return e})||[]},only:function(t){if(!kl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=Kn;U.Fragment=nh;U.Profiler=sh;U.PureComponent=wl;U.StrictMode=rh;U.Suspense=ah;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gh;U.act=kc;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=mc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Sl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)wc.call(e,a)&&!_c.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Vr,type:t.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:oh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ih,_context:t},t.Consumer=t};U.createElement=Sc;U.createFactory=function(t){var e=Sc.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:lh,render:t}};U.isValidElement=kl;U.lazy=function(t){return{$$typeof:ch,_payload:{_status:-1,_result:t},_init:ph}};U.memo=function(t,e){return{$$typeof:uh,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=Cs.transition;Cs.transition={};try{t()}finally{Cs.transition=e}};U.unstable_act=kc;U.useCallback=function(t,e){return ve.current.useCallback(t,e)};U.useContext=function(t){return ve.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return ve.current.useDeferredValue(t)};U.useEffect=function(t,e){return ve.current.useEffect(t,e)};U.useId=function(){return ve.current.useId()};U.useImperativeHandle=function(t,e,n){return ve.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return ve.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return ve.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return ve.current.useMemo(t,e)};U.useReducer=function(t,e,n){return ve.current.useReducer(t,e,n)};U.useRef=function(t){return ve.current.useRef(t)};U.useState=function(t){return ve.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return ve.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return ve.current.useTransition()};U.version="18.3.1";pc.exports=U;var N=pc.exports;const mh=Zf(N);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vh=N,yh=Symbol.for("react.element"),wh=Symbol.for("react.fragment"),_h=Object.prototype.hasOwnProperty,Sh=vh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kh={key:!0,ref:!0,__self:!0,__source:!0};function Ec(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_h.call(e,r)&&!kh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:yh,type:t,key:i,ref:o,props:s,_owner:Sh.current}}ci.Fragment=wh;ci.jsx=Ec;ci.jsxs=Ec;hc.exports=ci;var y=hc.exports,ho={},xc={exports:{}},Ne={},Cc={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,O){var P=C.length;C.push(O);e:for(;0<P;){var F=P-1>>>1,W=C[F];if(0<s(W,O))C[F]=O,C[P]=W,P=F;else break e}}function n(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var O=C[0],P=C.pop();if(P!==O){C[0]=P;e:for(var F=0,W=C.length,ht=W>>>1;F<ht;){var zt=2*(F+1)-1,Pi=C[zt],Bt=zt+1,ts=C[Bt];if(0>s(Pi,P))Bt<W&&0>s(ts,Pi)?(C[F]=ts,C[Bt]=P,F=Bt):(C[F]=Pi,C[zt]=P,F=zt);else if(Bt<W&&0>s(ts,P))C[F]=ts,C[Bt]=P,F=Bt;else break e}}return O}function s(C,O){var P=C.sortIndex-O.sortIndex;return P!==0?P:C.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,m=!1,v=!1,_=!1,T=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(C){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=C)r(u),O.sortIndex=O.expirationTime,e(a,O);else break;O=n(u)}}function w(C){if(_=!1,p(C),!v)if(n(a)!==null)v=!0,b(E);else{var O=n(u);O!==null&&he(w,O.startTime-C)}}function E(C,O){v=!1,_&&(_=!1,g(j),j=-1),m=!0;var P=f;try{for(p(O),d=n(a);d!==null&&(!(d.expirationTime>O)||C&&!ae());){var F=d.callback;if(typeof F=="function"){d.callback=null,f=d.priorityLevel;var W=F(d.expirationTime<=O);O=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(a)&&r(a),p(O)}else r(a);d=n(a)}if(d!==null)var ht=!0;else{var zt=n(u);zt!==null&&he(w,zt.startTime-O),ht=!1}return ht}finally{d=null,f=P,m=!1}}var k=!1,x=null,j=-1,I=5,A=-1;function ae(){return!(t.unstable_now()-A<I)}function Mt(){if(x!==null){var C=t.unstable_now();A=C;var O=!0;try{O=x(!0,C)}finally{O?Ft():(k=!1,x=null)}}else k=!1}var Ft;if(typeof h=="function")Ft=function(){h(Mt)};else if(typeof MessageChannel<"u"){var es=new MessageChannel,dn=es.port2;es.port1.onmessage=Mt,Ft=function(){dn.postMessage(null)}}else Ft=function(){T(Mt,0)};function b(C){x=C,k||(k=!0,Ft())}function he(C,O){j=T(function(){C(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,b(E))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var P=f;f=O;try{return C()}finally{f=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var P=f;f=C;try{return O()}finally{f=P}},t.unstable_scheduleCallback=function(C,O,P){var F=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?F+P:F):P=F,C){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=P+W,C={id:c++,callback:O,priorityLevel:C,startTime:P,expirationTime:W,sortIndex:-1},P>F?(C.sortIndex=P,e(u,C),n(a)===null&&C===n(u)&&(_?(g(j),j=-1):_=!0,he(w,P-F))):(C.sortIndex=W,e(a,C),v||m||(v=!0,b(E))),C},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(C){var O=f;return function(){var P=f;f=O;try{return C.apply(this,arguments)}finally{f=P}}}})(Tc);Cc.exports=Tc;var Eh=Cc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=N,je=Eh;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Oc=new Set,Cr={};function an(t,e){Fn(t,e),Fn(t+"Capture",e)}function Fn(t,e){for(Cr[t]=e,t=0;t<e.length;t++)Oc.add(e[t])}var at=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=Object.prototype.hasOwnProperty,Ch=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ka={},Ea={};function Th(t){return po.call(Ea,t)?!0:po.call(ka,t)?!1:Ch.test(t)?Ea[t]=!0:(ka[t]=!0,!1)}function Oh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Rh(t,e,n,r){if(e===null||typeof e>"u"||Oh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ye(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){le[t]=new ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];le[e]=new ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){le[t]=new ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){le[t]=new ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){le[t]=new ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){le[t]=new ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){le[t]=new ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){le[t]=new ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){le[t]=new ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var El=/[\-:]([a-z])/g;function xl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(El,xl);le[e]=new ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(El,xl);le[e]=new ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(El,xl);le[e]=new ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){le[t]=new ye(t,1,!1,t.toLowerCase(),null,!1,!1)});le.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){le[t]=new ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cl(t,e,n,r){var s=le.hasOwnProperty(e)?le[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Rh(e,n,s,r)&&(n=null),r||s===null?Th(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ft=xh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),Sn=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),Tl=Symbol.for("react.strict_mode"),go=Symbol.for("react.profiler"),Rc=Symbol.for("react.provider"),jc=Symbol.for("react.context"),Ol=Symbol.for("react.forward_ref"),mo=Symbol.for("react.suspense"),vo=Symbol.for("react.suspense_list"),Rl=Symbol.for("react.memo"),vt=Symbol.for("react.lazy"),Nc=Symbol.for("react.offscreen"),xa=Symbol.iterator;function Zn(t){return t===null||typeof t!="object"?null:(t=xa&&t[xa]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,Ii;function ar(t){if(Ii===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ii=e&&e[1]||""}return`
`+Ii+t}var bi=!1;function Li(t,e){if(!t||bi)return"";bi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{bi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ar(t):""}function jh(t){switch(t.tag){case 5:return ar(t.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 2:case 15:return t=Li(t.type,!1),t;case 11:return t=Li(t.type.render,!1),t;case 1:return t=Li(t.type,!0),t;default:return""}}function yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case kn:return"Fragment";case Sn:return"Portal";case go:return"Profiler";case Tl:return"StrictMode";case mo:return"Suspense";case vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jc:return(t.displayName||"Context")+".Consumer";case Rc:return(t._context.displayName||"Context")+".Provider";case Ol:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rl:return e=t.displayName||null,e!==null?e:yo(t.type)||"Memo";case vt:e=t._payload,t=t._init;try{return yo(t(e))}catch{}}return null}function Nh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(e);case 8:return e===Tl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function It(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ph(t){var e=Pc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ss(t){t._valueTracker||(t._valueTracker=Ph(t))}function Ac(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Pc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Us(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wo(t,e){var n=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ca(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=It(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ic(t,e){e=e.checked,e!=null&&Cl(t,"checked",e,!1)}function _o(t,e){Ic(t,e);var n=It(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?So(t,e.type,n):e.hasOwnProperty("defaultValue")&&So(t,e.type,It(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ta(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function So(t,e,n){(e!=="number"||Us(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ur=Array.isArray;function In(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+It(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ko(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Oa(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(ur(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:It(n)}}function bc(t,e){var n=It(e.value),r=It(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ra(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Lc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Lc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var is,$c=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(is=is||document.createElement("div"),is.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=is.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ah=["Webkit","ms","Moz","O"];Object.keys(hr).forEach(function(t){Ah.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hr[e]=hr[t]})});function Uc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hr.hasOwnProperty(t)&&hr[t]?(""+e).trim():e+"px"}function Dc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Uc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Ih=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xo(t,e){if(e){if(Ih[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function Co(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var To=null;function jl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oo=null,bn=null,Ln=null;function ja(t){if(t=Kr(t)){if(typeof Oo!="function")throw Error(S(280));var e=t.stateNode;e&&(e=gi(e),Oo(t.stateNode,t.type,e))}}function Mc(t){bn?Ln?Ln.push(t):Ln=[t]:bn=t}function Fc(){if(bn){var t=bn,e=Ln;if(Ln=bn=null,ja(t),e)for(t=0;t<e.length;t++)ja(e[t])}}function zc(t,e){return t(e)}function Bc(){}var $i=!1;function Wc(t,e,n){if($i)return t(e,n);$i=!0;try{return zc(t,e,n)}finally{$i=!1,(bn!==null||Ln!==null)&&(Bc(),Fc())}}function Or(t,e){var n=t.stateNode;if(n===null)return null;var r=gi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var Ro=!1;if(at)try{var er={};Object.defineProperty(er,"passive",{get:function(){Ro=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{Ro=!1}function bh(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var pr=!1,Ds=null,Ms=!1,jo=null,Lh={onError:function(t){pr=!0,Ds=t}};function $h(t,e,n,r,s,i,o,l,a){pr=!1,Ds=null,bh.apply(Lh,arguments)}function Uh(t,e,n,r,s,i,o,l,a){if($h.apply(this,arguments),pr){if(pr){var u=Ds;pr=!1,Ds=null}else throw Error(S(198));Ms||(Ms=!0,jo=u)}}function un(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Hc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Na(t){if(un(t)!==t)throw Error(S(188))}function Dh(t){var e=t.alternate;if(!e){if(e=un(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Na(s),t;if(i===r)return Na(s),e;i=i.sibling}throw Error(S(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function Vc(t){return t=Dh(t),t!==null?qc(t):null}function qc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qc(t);if(e!==null)return e;t=t.sibling}return null}var Gc=je.unstable_scheduleCallback,Pa=je.unstable_cancelCallback,Mh=je.unstable_shouldYield,Fh=je.unstable_requestPaint,J=je.unstable_now,zh=je.unstable_getCurrentPriorityLevel,Nl=je.unstable_ImmediatePriority,Kc=je.unstable_UserBlockingPriority,Fs=je.unstable_NormalPriority,Bh=je.unstable_LowPriority,Qc=je.unstable_IdlePriority,di=null,Xe=null;function Wh(t){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(di,t,void 0,(t.current.flags&128)===128)}catch{}}var Ve=Math.clz32?Math.clz32:qh,Hh=Math.log,Vh=Math.LN2;function qh(t){return t>>>=0,t===0?32:31-(Hh(t)/Vh|0)|0}var os=64,ls=4194304;function cr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=cr(l):(i&=o,i!==0&&(r=cr(i)))}else o=n&~s,o!==0?r=cr(o):i!==0&&(r=cr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ve(e),s=1<<n,r|=t[n],e&=~s;return r}function Gh(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kh(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ve(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=Gh(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function No(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yc(){var t=os;return os<<=1,!(os&4194240)&&(os=64),t}function Ui(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function qr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ve(e),t[e]=n}function Qh(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ve(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Pl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ve(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var M=0;function Jc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Xc,Al,Zc,ed,td,Po=!1,as=[],Ct=null,Tt=null,Ot=null,Rr=new Map,jr=new Map,_t=[],Yh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aa(t,e){switch(t){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Rr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jr.delete(e.pointerId)}}function tr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Kr(e),e!==null&&Al(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Jh(t,e,n,r,s){switch(e){case"focusin":return Ct=tr(Ct,t,e,n,r,s),!0;case"dragenter":return Tt=tr(Tt,t,e,n,r,s),!0;case"mouseover":return Ot=tr(Ot,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Rr.set(i,tr(Rr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,jr.set(i,tr(jr.get(i)||null,t,e,n,r,s)),!0}return!1}function nd(t){var e=Qt(t.target);if(e!==null){var n=un(e);if(n!==null){if(e=n.tag,e===13){if(e=Hc(n),e!==null){t.blockedOn=e,td(t.priority,function(){Zc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ts(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ao(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);To=r,n.target.dispatchEvent(r),To=null}else return e=Kr(n),e!==null&&Al(e),t.blockedOn=n,!1;e.shift()}return!0}function Ia(t,e,n){Ts(t)&&n.delete(e)}function Xh(){Po=!1,Ct!==null&&Ts(Ct)&&(Ct=null),Tt!==null&&Ts(Tt)&&(Tt=null),Ot!==null&&Ts(Ot)&&(Ot=null),Rr.forEach(Ia),jr.forEach(Ia)}function nr(t,e){t.blockedOn===e&&(t.blockedOn=null,Po||(Po=!0,je.unstable_scheduleCallback(je.unstable_NormalPriority,Xh)))}function Nr(t){function e(s){return nr(s,t)}if(0<as.length){nr(as[0],t);for(var n=1;n<as.length;n++){var r=as[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ct!==null&&nr(Ct,t),Tt!==null&&nr(Tt,t),Ot!==null&&nr(Ot,t),Rr.forEach(e),jr.forEach(e),n=0;n<_t.length;n++)r=_t[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_t.length&&(n=_t[0],n.blockedOn===null);)nd(n),n.blockedOn===null&&_t.shift()}var $n=ft.ReactCurrentBatchConfig,Bs=!0;function Zh(t,e,n,r){var s=M,i=$n.transition;$n.transition=null;try{M=1,Il(t,e,n,r)}finally{M=s,$n.transition=i}}function ep(t,e,n,r){var s=M,i=$n.transition;$n.transition=null;try{M=4,Il(t,e,n,r)}finally{M=s,$n.transition=i}}function Il(t,e,n,r){if(Bs){var s=Ao(t,e,n,r);if(s===null)Gi(t,e,r,Ws,n),Aa(t,r);else if(Jh(s,t,e,n,r))r.stopPropagation();else if(Aa(t,r),e&4&&-1<Yh.indexOf(t)){for(;s!==null;){var i=Kr(s);if(i!==null&&Xc(i),i=Ao(t,e,n,r),i===null&&Gi(t,e,r,Ws,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gi(t,e,r,null,n)}}var Ws=null;function Ao(t,e,n,r){if(Ws=null,t=jl(r),t=Qt(t),t!==null)if(e=un(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Hc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ws=t,null}function rd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zh()){case Nl:return 1;case Kc:return 4;case Fs:case Bh:return 16;case Qc:return 536870912;default:return 16}default:return 16}}var Et=null,bl=null,Os=null;function sd(){if(Os)return Os;var t,e=bl,n=e.length,r,s="value"in Et?Et.value:Et.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Os=s.slice(t,1<r?1-r:void 0)}function Rs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function us(){return!0}function ba(){return!1}function Pe(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?us:ba,this.isPropagationStopped=ba,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),e}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=Pe(Qn),Gr=Q({},Qn,{view:0,detail:0}),tp=Pe(Gr),Di,Mi,rr,fi=Q({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$l,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rr&&(rr&&t.type==="mousemove"?(Di=t.screenX-rr.screenX,Mi=t.screenY-rr.screenY):Mi=Di=0,rr=t),Di)},movementY:function(t){return"movementY"in t?t.movementY:Mi}}),La=Pe(fi),np=Q({},fi,{dataTransfer:0}),rp=Pe(np),sp=Q({},Gr,{relatedTarget:0}),Fi=Pe(sp),ip=Q({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),op=Pe(ip),lp=Q({},Qn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ap=Pe(lp),up=Q({},Qn,{data:0}),$a=Pe(up),cp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fp[t])?!!e[t]:!1}function $l(){return hp}var pp=Q({},Gr,{key:function(t){if(t.key){var e=cp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$l,charCode:function(t){return t.type==="keypress"?Rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gp=Pe(pp),mp=Q({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ua=Pe(mp),vp=Q({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$l}),yp=Pe(vp),wp=Q({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_p=Pe(wp),Sp=Q({},fi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kp=Pe(Sp),Ep=[9,13,27,32],Ul=at&&"CompositionEvent"in window,gr=null;at&&"documentMode"in document&&(gr=document.documentMode);var xp=at&&"TextEvent"in window&&!gr,id=at&&(!Ul||gr&&8<gr&&11>=gr),Da=" ",Ma=!1;function od(t,e){switch(t){case"keyup":return Ep.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ld(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var En=!1;function Cp(t,e){switch(t){case"compositionend":return ld(e);case"keypress":return e.which!==32?null:(Ma=!0,Da);case"textInput":return t=e.data,t===Da&&Ma?null:t;default:return null}}function Tp(t,e){if(En)return t==="compositionend"||!Ul&&od(t,e)?(t=sd(),Os=bl=Et=null,En=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return id&&e.locale!=="ko"?null:e.data;default:return null}}var Op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Op[t.type]:e==="textarea"}function ad(t,e,n,r){Mc(r),e=Hs(e,"onChange"),0<e.length&&(n=new Ll("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var mr=null,Pr=null;function Rp(t){wd(t,0)}function hi(t){var e=Tn(t);if(Ac(e))return t}function jp(t,e){if(t==="change")return e}var ud=!1;if(at){var zi;if(at){var Bi="oninput"in document;if(!Bi){var za=document.createElement("div");za.setAttribute("oninput","return;"),Bi=typeof za.oninput=="function"}zi=Bi}else zi=!1;ud=zi&&(!document.documentMode||9<document.documentMode)}function Ba(){mr&&(mr.detachEvent("onpropertychange",cd),Pr=mr=null)}function cd(t){if(t.propertyName==="value"&&hi(Pr)){var e=[];ad(e,Pr,t,jl(t)),Wc(Rp,e)}}function Np(t,e,n){t==="focusin"?(Ba(),mr=e,Pr=n,mr.attachEvent("onpropertychange",cd)):t==="focusout"&&Ba()}function Pp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hi(Pr)}function Ap(t,e){if(t==="click")return hi(e)}function Ip(t,e){if(t==="input"||t==="change")return hi(e)}function bp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ge=typeof Object.is=="function"?Object.is:bp;function Ar(t,e){if(Ge(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!po.call(e,s)||!Ge(t[s],e[s]))return!1}return!0}function Wa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ha(t,e){var n=Wa(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wa(n)}}function dd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fd(){for(var t=window,e=Us();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Us(t.document)}return e}function Dl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lp(t){var e=fd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dd(n.ownerDocument.documentElement,n)){if(r!==null&&Dl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ha(n,i);var o=Ha(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $p=at&&"documentMode"in document&&11>=document.documentMode,xn=null,Io=null,vr=null,bo=!1;function Va(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bo||xn==null||xn!==Us(r)||(r=xn,"selectionStart"in r&&Dl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vr&&Ar(vr,r)||(vr=r,r=Hs(Io,"onSelect"),0<r.length&&(e=new Ll("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xn)))}function cs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cn={animationend:cs("Animation","AnimationEnd"),animationiteration:cs("Animation","AnimationIteration"),animationstart:cs("Animation","AnimationStart"),transitionend:cs("Transition","TransitionEnd")},Wi={},hd={};at&&(hd=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function pi(t){if(Wi[t])return Wi[t];if(!Cn[t])return t;var e=Cn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hd)return Wi[t]=e[n];return t}var pd=pi("animationend"),gd=pi("animationiteration"),md=pi("animationstart"),vd=pi("transitionend"),yd=new Map,qa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lt(t,e){yd.set(t,e),an(e,[t])}for(var Hi=0;Hi<qa.length;Hi++){var Vi=qa[Hi],Up=Vi.toLowerCase(),Dp=Vi[0].toUpperCase()+Vi.slice(1);Lt(Up,"on"+Dp)}Lt(pd,"onAnimationEnd");Lt(gd,"onAnimationIteration");Lt(md,"onAnimationStart");Lt("dblclick","onDoubleClick");Lt("focusin","onFocus");Lt("focusout","onBlur");Lt(vd,"onTransitionEnd");Fn("onMouseEnter",["mouseout","mouseover"]);Fn("onMouseLeave",["mouseout","mouseover"]);Fn("onPointerEnter",["pointerout","pointerover"]);Fn("onPointerLeave",["pointerout","pointerover"]);an("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));an("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));an("onBeforeInput",["compositionend","keypress","textInput","paste"]);an("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));an("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));an("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(dr));function Ga(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Uh(r,e,void 0,t),t.currentTarget=null}function wd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ga(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ga(s,l,u),i=a}}}if(Ms)throw t=jo,Ms=!1,jo=null,t}function H(t,e){var n=e[Mo];n===void 0&&(n=e[Mo]=new Set);var r=t+"__bubble";n.has(r)||(_d(e,t,2,!1),n.add(r))}function qi(t,e,n){var r=0;e&&(r|=4),_d(n,t,r,e)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Ir(t){if(!t[ds]){t[ds]=!0,Oc.forEach(function(n){n!=="selectionchange"&&(Mp.has(n)||qi(n,!1,t),qi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ds]||(e[ds]=!0,qi("selectionchange",!1,e))}}function _d(t,e,n,r){switch(rd(e)){case 1:var s=Zh;break;case 4:s=ep;break;default:s=Il}n=s.bind(null,e,n,t),s=void 0,!Ro||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Qt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Wc(function(){var u=i,c=jl(n),d=[];e:{var f=yd.get(t);if(f!==void 0){var m=Ll,v=t;switch(t){case"keypress":if(Rs(n)===0)break e;case"keydown":case"keyup":m=gp;break;case"focusin":v="focus",m=Fi;break;case"focusout":v="blur",m=Fi;break;case"beforeblur":case"afterblur":m=Fi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=La;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=yp;break;case pd:case gd:case md:m=op;break;case vd:m=_p;break;case"scroll":m=tp;break;case"wheel":m=kp;break;case"copy":case"cut":case"paste":m=ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Ua}var _=(e&4)!==0,T=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var h=u,p;h!==null;){p=h;var w=p.stateNode;if(p.tag===5&&w!==null&&(p=w,g!==null&&(w=Or(h,g),w!=null&&_.push(br(h,w,p)))),T)break;h=h.return}0<_.length&&(f=new m(f,v,null,n,c),d.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==To&&(v=n.relatedTarget||n.fromElement)&&(Qt(v)||v[ut]))break e;if((m||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?Qt(v):null,v!==null&&(T=un(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(_=La,w="onMouseLeave",g="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ua,w="onPointerLeave",g="onPointerEnter",h="pointer"),T=m==null?f:Tn(m),p=v==null?f:Tn(v),f=new _(w,h+"leave",m,n,c),f.target=T,f.relatedTarget=p,w=null,Qt(c)===u&&(_=new _(g,h+"enter",v,n,c),_.target=p,_.relatedTarget=T,w=_),T=w,m&&v)t:{for(_=m,g=v,h=0,p=_;p;p=fn(p))h++;for(p=0,w=g;w;w=fn(w))p++;for(;0<h-p;)_=fn(_),h--;for(;0<p-h;)g=fn(g),p--;for(;h--;){if(_===g||g!==null&&_===g.alternate)break t;_=fn(_),g=fn(g)}_=null}else _=null;m!==null&&Ka(d,f,m,_,!1),v!==null&&T!==null&&Ka(d,T,v,_,!0)}}e:{if(f=u?Tn(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var E=jp;else if(Fa(f))if(ud)E=Ip;else{E=Pp;var k=Np}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=Ap);if(E&&(E=E(t,u))){ad(d,E,n,c);break e}k&&k(t,f,u),t==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&So(f,"number",f.value)}switch(k=u?Tn(u):window,t){case"focusin":(Fa(k)||k.contentEditable==="true")&&(xn=k,Io=u,vr=null);break;case"focusout":vr=Io=xn=null;break;case"mousedown":bo=!0;break;case"contextmenu":case"mouseup":case"dragend":bo=!1,Va(d,n,c);break;case"selectionchange":if($p)break;case"keydown":case"keyup":Va(d,n,c)}var x;if(Ul)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else En?od(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(id&&n.locale!=="ko"&&(En||j!=="onCompositionStart"?j==="onCompositionEnd"&&En&&(x=sd()):(Et=c,bl="value"in Et?Et.value:Et.textContent,En=!0)),k=Hs(u,j),0<k.length&&(j=new $a(j,t,null,n,c),d.push({event:j,listeners:k}),x?j.data=x:(x=ld(n),x!==null&&(j.data=x)))),(x=xp?Cp(t,n):Tp(t,n))&&(u=Hs(u,"onBeforeInput"),0<u.length&&(c=new $a("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=x))}wd(d,e)})}function br(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Or(t,n),i!=null&&r.unshift(br(t,i,s)),i=Or(t,e),i!=null&&r.push(br(t,i,s))),t=t.return}return r}function fn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ka(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Or(n,i),a!=null&&o.unshift(br(n,a,l))):s||(a=Or(n,i),a!=null&&o.push(br(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Fp=/\r\n?/g,zp=/\u0000|\uFFFD/g;function Qa(t){return(typeof t=="string"?t:""+t).replace(Fp,`
`).replace(zp,"")}function fs(t,e,n){if(e=Qa(e),Qa(t)!==e&&n)throw Error(S(425))}function Vs(){}var Lo=null,$o=null;function Uo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Do=typeof setTimeout=="function"?setTimeout:void 0,Bp=typeof clearTimeout=="function"?clearTimeout:void 0,Ya=typeof Promise=="function"?Promise:void 0,Wp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ya<"u"?function(t){return Ya.resolve(null).then(t).catch(Hp)}:Do;function Hp(t){setTimeout(function(){throw t})}function Ki(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Nr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Nr(e)}function Rt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ja(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),Je="__reactFiber$"+Yn,Lr="__reactProps$"+Yn,ut="__reactContainer$"+Yn,Mo="__reactEvents$"+Yn,Vp="__reactListeners$"+Yn,qp="__reactHandles$"+Yn;function Qt(t){var e=t[Je];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ut]||n[Je]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ja(t);t!==null;){if(n=t[Je])return n;t=Ja(t)}return e}t=n,n=t.parentNode}return null}function Kr(t){return t=t[Je]||t[ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function gi(t){return t[Lr]||null}var Fo=[],On=-1;function $t(t){return{current:t}}function V(t){0>On||(t.current=Fo[On],Fo[On]=null,On--)}function B(t,e){On++,Fo[On]=t.current,t.current=e}var bt={},fe=$t(bt),Ee=$t(!1),tn=bt;function zn(t,e){var n=t.type.contextTypes;if(!n)return bt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function xe(t){return t=t.childContextTypes,t!=null}function qs(){V(Ee),V(fe)}function Xa(t,e,n){if(fe.current!==bt)throw Error(S(168));B(fe,e),B(Ee,n)}function Sd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(S(108,Nh(t)||"Unknown",s));return Q({},n,r)}function Gs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||bt,tn=fe.current,B(fe,t),B(Ee,Ee.current),!0}function Za(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=Sd(t,e,tn),r.__reactInternalMemoizedMergedChildContext=t,V(Ee),V(fe),B(fe,t)):V(Ee),B(Ee,n)}var st=null,mi=!1,Qi=!1;function kd(t){st===null?st=[t]:st.push(t)}function Gp(t){mi=!0,kd(t)}function Ut(){if(!Qi&&st!==null){Qi=!0;var t=0,e=M;try{var n=st;for(M=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}st=null,mi=!1}catch(s){throw st!==null&&(st=st.slice(t+1)),Gc(Nl,Ut),s}finally{M=e,Qi=!1}}return null}var Rn=[],jn=0,Ks=null,Qs=0,Ae=[],Ie=0,nn=null,it=1,ot="";function Vt(t,e){Rn[jn++]=Qs,Rn[jn++]=Ks,Ks=t,Qs=e}function Ed(t,e,n){Ae[Ie++]=it,Ae[Ie++]=ot,Ae[Ie++]=nn,nn=t;var r=it;t=ot;var s=32-Ve(r)-1;r&=~(1<<s),n+=1;var i=32-Ve(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,it=1<<32-Ve(e)+s|n<<s|r,ot=i+t}else it=1<<i|n<<s|r,ot=t}function Ml(t){t.return!==null&&(Vt(t,1),Ed(t,1,0))}function Fl(t){for(;t===Ks;)Ks=Rn[--jn],Rn[jn]=null,Qs=Rn[--jn],Rn[jn]=null;for(;t===nn;)nn=Ae[--Ie],Ae[Ie]=null,ot=Ae[--Ie],Ae[Ie]=null,it=Ae[--Ie],Ae[Ie]=null}var Re=null,Oe=null,q=!1,He=null;function xd(t,e){var n=be(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Re=t,Oe=Rt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Re=t,Oe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nn!==null?{id:it,overflow:ot}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=be(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Re=t,Oe=null,!0):!1;default:return!1}}function zo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bo(t){if(q){var e=Oe;if(e){var n=e;if(!eu(t,e)){if(zo(t))throw Error(S(418));e=Rt(n.nextSibling);var r=Re;e&&eu(t,e)?xd(r,n):(t.flags=t.flags&-4097|2,q=!1,Re=t)}}else{if(zo(t))throw Error(S(418));t.flags=t.flags&-4097|2,q=!1,Re=t}}}function tu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Re=t}function hs(t){if(t!==Re)return!1;if(!q)return tu(t),q=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uo(t.type,t.memoizedProps)),e&&(e=Oe)){if(zo(t))throw Cd(),Error(S(418));for(;e;)xd(t,e),e=Rt(e.nextSibling)}if(tu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Oe=Rt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Oe=null}}else Oe=Re?Rt(t.stateNode.nextSibling):null;return!0}function Cd(){for(var t=Oe;t;)t=Rt(t.nextSibling)}function Bn(){Oe=Re=null,q=!1}function zl(t){He===null?He=[t]:He.push(t)}var Kp=ft.ReactCurrentBatchConfig;function sr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function ps(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nu(t){var e=t._init;return e(t._payload)}function Td(t){function e(g,h){if(t){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function n(g,h){if(!t)return null;for(;h!==null;)e(g,h),h=h.sibling;return null}function r(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function s(g,h){return g=At(g,h),g.index=0,g.sibling=null,g}function i(g,h,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,h,p,w){return h===null||h.tag!==6?(h=no(p,g.mode,w),h.return=g,h):(h=s(h,p),h.return=g,h)}function a(g,h,p,w){var E=p.type;return E===kn?c(g,h,p.props.children,w,p.key):h!==null&&(h.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vt&&nu(E)===h.type)?(w=s(h,p.props),w.ref=sr(g,h,p),w.return=g,w):(w=Ls(p.type,p.key,p.props,null,g.mode,w),w.ref=sr(g,h,p),w.return=g,w)}function u(g,h,p,w){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=ro(p,g.mode,w),h.return=g,h):(h=s(h,p.children||[]),h.return=g,h)}function c(g,h,p,w,E){return h===null||h.tag!==7?(h=Zt(p,g.mode,w,E),h.return=g,h):(h=s(h,p),h.return=g,h)}function d(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=no(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case rs:return p=Ls(h.type,h.key,h.props,null,g.mode,p),p.ref=sr(g,null,h),p.return=g,p;case Sn:return h=ro(h,g.mode,p),h.return=g,h;case vt:var w=h._init;return d(g,w(h._payload),p)}if(ur(h)||Zn(h))return h=Zt(h,g.mode,p,null),h.return=g,h;ps(g,h)}return null}function f(g,h,p,w){var E=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return E!==null?null:l(g,h,""+p,w);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case rs:return p.key===E?a(g,h,p,w):null;case Sn:return p.key===E?u(g,h,p,w):null;case vt:return E=p._init,f(g,h,E(p._payload),w)}if(ur(p)||Zn(p))return E!==null?null:c(g,h,p,w,null);ps(g,p)}return null}function m(g,h,p,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(p)||null,l(h,g,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case rs:return g=g.get(w.key===null?p:w.key)||null,a(h,g,w,E);case Sn:return g=g.get(w.key===null?p:w.key)||null,u(h,g,w,E);case vt:var k=w._init;return m(g,h,p,k(w._payload),E)}if(ur(w)||Zn(w))return g=g.get(p)||null,c(h,g,w,E,null);ps(h,w)}return null}function v(g,h,p,w){for(var E=null,k=null,x=h,j=h=0,I=null;x!==null&&j<p.length;j++){x.index>j?(I=x,x=null):I=x.sibling;var A=f(g,x,p[j],w);if(A===null){x===null&&(x=I);break}t&&x&&A.alternate===null&&e(g,x),h=i(A,h,j),k===null?E=A:k.sibling=A,k=A,x=I}if(j===p.length)return n(g,x),q&&Vt(g,j),E;if(x===null){for(;j<p.length;j++)x=d(g,p[j],w),x!==null&&(h=i(x,h,j),k===null?E=x:k.sibling=x,k=x);return q&&Vt(g,j),E}for(x=r(g,x);j<p.length;j++)I=m(x,g,j,p[j],w),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?j:I.key),h=i(I,h,j),k===null?E=I:k.sibling=I,k=I);return t&&x.forEach(function(ae){return e(g,ae)}),q&&Vt(g,j),E}function _(g,h,p,w){var E=Zn(p);if(typeof E!="function")throw Error(S(150));if(p=E.call(p),p==null)throw Error(S(151));for(var k=E=null,x=h,j=h=0,I=null,A=p.next();x!==null&&!A.done;j++,A=p.next()){x.index>j?(I=x,x=null):I=x.sibling;var ae=f(g,x,A.value,w);if(ae===null){x===null&&(x=I);break}t&&x&&ae.alternate===null&&e(g,x),h=i(ae,h,j),k===null?E=ae:k.sibling=ae,k=ae,x=I}if(A.done)return n(g,x),q&&Vt(g,j),E;if(x===null){for(;!A.done;j++,A=p.next())A=d(g,A.value,w),A!==null&&(h=i(A,h,j),k===null?E=A:k.sibling=A,k=A);return q&&Vt(g,j),E}for(x=r(g,x);!A.done;j++,A=p.next())A=m(x,g,j,A.value,w),A!==null&&(t&&A.alternate!==null&&x.delete(A.key===null?j:A.key),h=i(A,h,j),k===null?E=A:k.sibling=A,k=A);return t&&x.forEach(function(Mt){return e(g,Mt)}),q&&Vt(g,j),E}function T(g,h,p,w){if(typeof p=="object"&&p!==null&&p.type===kn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case rs:e:{for(var E=p.key,k=h;k!==null;){if(k.key===E){if(E=p.type,E===kn){if(k.tag===7){n(g,k.sibling),h=s(k,p.props.children),h.return=g,g=h;break e}}else if(k.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===vt&&nu(E)===k.type){n(g,k.sibling),h=s(k,p.props),h.ref=sr(g,k,p),h.return=g,g=h;break e}n(g,k);break}else e(g,k);k=k.sibling}p.type===kn?(h=Zt(p.props.children,g.mode,w,p.key),h.return=g,g=h):(w=Ls(p.type,p.key,p.props,null,g.mode,w),w.ref=sr(g,h,p),w.return=g,g=w)}return o(g);case Sn:e:{for(k=p.key;h!==null;){if(h.key===k)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){n(g,h.sibling),h=s(h,p.children||[]),h.return=g,g=h;break e}else{n(g,h);break}else e(g,h);h=h.sibling}h=ro(p,g.mode,w),h.return=g,g=h}return o(g);case vt:return k=p._init,T(g,h,k(p._payload),w)}if(ur(p))return v(g,h,p,w);if(Zn(p))return _(g,h,p,w);ps(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(n(g,h.sibling),h=s(h,p),h.return=g,g=h):(n(g,h),h=no(p,g.mode,w),h.return=g,g=h),o(g)):n(g,h)}return T}var Wn=Td(!0),Od=Td(!1),Ys=$t(null),Js=null,Nn=null,Bl=null;function Wl(){Bl=Nn=Js=null}function Hl(t){var e=Ys.current;V(Ys),t._currentValue=e}function Wo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Un(t,e){Js=t,Bl=Nn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ke=!0),t.firstContext=null)}function Ue(t){var e=t._currentValue;if(Bl!==t)if(t={context:t,memoizedValue:e,next:null},Nn===null){if(Js===null)throw Error(S(308));Nn=t,Js.dependencies={lanes:0,firstContext:t}}else Nn=Nn.next=t;return e}var Yt=null;function Vl(t){Yt===null?Yt=[t]:Yt.push(t)}function Rd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Vl(e)):(n.next=s.next,s.next=n),e.interleaved=n,ct(t,r)}function ct(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yt=!1;function ql(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function lt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,D&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ct(t,n)}return s=r.interleaved,s===null?(e.next=e,Vl(r)):(e.next=s.next,s.next=e),r.interleaved=e,ct(t,n)}function js(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pl(t,n)}}function ru(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xs(t,e,n,r){var s=t.updateQueue;yt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var d=s.baseState;o=0,c=u=a=null,l=i;do{var f=l.lane,m=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,_=l;switch(f=e,m=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){d=v.call(m,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(m,d,f):v,f==null)break e;d=Q({},d,f);break e;case 2:yt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=m,a=d):c=c.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(a=d),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);sn|=o,t.lanes=o,t.memoizedState=d}}function su(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(S(191,s));s.call(r)}}}var Qr={},Ze=$t(Qr),$r=$t(Qr),Ur=$t(Qr);function Jt(t){if(t===Qr)throw Error(S(174));return t}function Gl(t,e){switch(B(Ur,e),B($r,t),B(Ze,Qr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Eo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Eo(e,t)}V(Ze),B(Ze,e)}function Hn(){V(Ze),V($r),V(Ur)}function Nd(t){Jt(Ur.current);var e=Jt(Ze.current),n=Eo(e,t.type);e!==n&&(B($r,t),B(Ze,n))}function Kl(t){$r.current===t&&(V(Ze),V($r))}var G=$t(0);function Zs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yi=[];function Ql(){for(var t=0;t<Yi.length;t++)Yi[t]._workInProgressVersionPrimary=null;Yi.length=0}var Ns=ft.ReactCurrentDispatcher,Ji=ft.ReactCurrentBatchConfig,rn=0,K=null,te=null,re=null,ei=!1,yr=!1,Dr=0,Qp=0;function ue(){throw Error(S(321))}function Yl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ge(t[n],e[n]))return!1;return!0}function Jl(t,e,n,r,s,i){if(rn=i,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ns.current=t===null||t.memoizedState===null?Zp:eg,t=n(r,s),yr){i=0;do{if(yr=!1,Dr=0,25<=i)throw Error(S(301));i+=1,re=te=null,e.updateQueue=null,Ns.current=tg,t=n(r,s)}while(yr)}if(Ns.current=ti,e=te!==null&&te.next!==null,rn=0,re=te=K=null,ei=!1,e)throw Error(S(300));return t}function Xl(){var t=Dr!==0;return Dr=0,t}function Qe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?K.memoizedState=re=t:re=re.next=t,re}function De(){if(te===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=te.next;var e=re===null?K.memoizedState:re.next;if(e!==null)re=e,te=t;else{if(t===null)throw Error(S(310));te=t,t={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},re===null?K.memoizedState=re=t:re=re.next=t}return re}function Mr(t,e){return typeof e=="function"?e(t):e}function Xi(t){var e=De(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=te,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((rn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,K.lanes|=c,sn|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Ge(r,e.memoizedState)||(ke=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,K.lanes|=i,sn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zi(t){var e=De(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ge(i,e.memoizedState)||(ke=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Pd(){}function Ad(t,e){var n=K,r=De(),s=e(),i=!Ge(r.memoizedState,s);if(i&&(r.memoizedState=s,ke=!0),r=r.queue,Zl(Ld.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||re!==null&&re.memoizedState.tag&1){if(n.flags|=2048,Fr(9,bd.bind(null,n,r,s,e),void 0,null),se===null)throw Error(S(349));rn&30||Id(n,e,s)}return s}function Id(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bd(t,e,n,r){e.value=n,e.getSnapshot=r,$d(e)&&Ud(t)}function Ld(t,e,n){return n(function(){$d(e)&&Ud(t)})}function $d(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ge(t,n)}catch{return!0}}function Ud(t){var e=ct(t,1);e!==null&&qe(e,t,1,-1)}function iu(t){var e=Qe();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:t},e.queue=t,t=t.dispatch=Xp.bind(null,K,t),[e.memoizedState,t]}function Fr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Dd(){return De().memoizedState}function Ps(t,e,n,r){var s=Qe();K.flags|=t,s.memoizedState=Fr(1|e,n,void 0,r===void 0?null:r)}function vi(t,e,n,r){var s=De();r=r===void 0?null:r;var i=void 0;if(te!==null){var o=te.memoizedState;if(i=o.destroy,r!==null&&Yl(r,o.deps)){s.memoizedState=Fr(e,n,i,r);return}}K.flags|=t,s.memoizedState=Fr(1|e,n,i,r)}function ou(t,e){return Ps(8390656,8,t,e)}function Zl(t,e){return vi(2048,8,t,e)}function Md(t,e){return vi(4,2,t,e)}function Fd(t,e){return vi(4,4,t,e)}function zd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Bd(t,e,n){return n=n!=null?n.concat([t]):null,vi(4,4,zd.bind(null,e,t),n)}function ea(){}function Wd(t,e){var n=De();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Hd(t,e){var n=De();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Yl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Vd(t,e,n){return rn&21?(Ge(n,e)||(n=Yc(),K.lanes|=n,sn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ke=!0),t.memoizedState=n)}function Yp(t,e){var n=M;M=n!==0&&4>n?n:4,t(!0);var r=Ji.transition;Ji.transition={};try{t(!1),e()}finally{M=n,Ji.transition=r}}function qd(){return De().memoizedState}function Jp(t,e,n){var r=Pt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gd(t))Kd(e,n);else if(n=Rd(t,e,n,r),n!==null){var s=me();qe(n,t,r,s),Qd(n,e,r)}}function Xp(t,e,n){var r=Pt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gd(t))Kd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ge(l,o)){var a=e.interleaved;a===null?(s.next=s,Vl(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Rd(t,e,s,r),n!==null&&(s=me(),qe(n,t,r,s),Qd(n,e,r))}}function Gd(t){var e=t.alternate;return t===K||e!==null&&e===K}function Kd(t,e){yr=ei=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Qd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pl(t,n)}}var ti={readContext:Ue,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useInsertionEffect:ue,useLayoutEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useMutableSource:ue,useSyncExternalStore:ue,useId:ue,unstable_isNewReconciler:!1},Zp={readContext:Ue,useCallback:function(t,e){return Qe().memoizedState=[t,e===void 0?null:e],t},useContext:Ue,useEffect:ou,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ps(4194308,4,zd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ps(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ps(4,2,t,e)},useMemo:function(t,e){var n=Qe();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qe();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Jp.bind(null,K,t),[r.memoizedState,t]},useRef:function(t){var e=Qe();return t={current:t},e.memoizedState=t},useState:iu,useDebugValue:ea,useDeferredValue:function(t){return Qe().memoizedState=t},useTransition:function(){var t=iu(!1),e=t[0];return t=Yp.bind(null,t[1]),Qe().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=K,s=Qe();if(q){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),se===null)throw Error(S(349));rn&30||Id(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ou(Ld.bind(null,r,i,t),[t]),r.flags|=2048,Fr(9,bd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Qe(),e=se.identifierPrefix;if(q){var n=ot,r=it;n=(r&~(1<<32-Ve(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Dr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Qp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},eg={readContext:Ue,useCallback:Wd,useContext:Ue,useEffect:Zl,useImperativeHandle:Bd,useInsertionEffect:Md,useLayoutEffect:Fd,useMemo:Hd,useReducer:Xi,useRef:Dd,useState:function(){return Xi(Mr)},useDebugValue:ea,useDeferredValue:function(t){var e=De();return Vd(e,te.memoizedState,t)},useTransition:function(){var t=Xi(Mr)[0],e=De().memoizedState;return[t,e]},useMutableSource:Pd,useSyncExternalStore:Ad,useId:qd,unstable_isNewReconciler:!1},tg={readContext:Ue,useCallback:Wd,useContext:Ue,useEffect:Zl,useImperativeHandle:Bd,useInsertionEffect:Md,useLayoutEffect:Fd,useMemo:Hd,useReducer:Zi,useRef:Dd,useState:function(){return Zi(Mr)},useDebugValue:ea,useDeferredValue:function(t){var e=De();return te===null?e.memoizedState=t:Vd(e,te.memoizedState,t)},useTransition:function(){var t=Zi(Mr)[0],e=De().memoizedState;return[t,e]},useMutableSource:Pd,useSyncExternalStore:Ad,useId:qd,unstable_isNewReconciler:!1};function ze(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ho(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yi={isMounted:function(t){return(t=t._reactInternals)?un(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=me(),s=Pt(t),i=lt(r,s);i.payload=e,n!=null&&(i.callback=n),e=jt(t,i,s),e!==null&&(qe(e,t,s,r),js(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=me(),s=Pt(t),i=lt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=jt(t,i,s),e!==null&&(qe(e,t,s,r),js(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=me(),r=Pt(t),s=lt(n,r);s.tag=2,e!=null&&(s.callback=e),e=jt(t,s,r),e!==null&&(qe(e,t,r,n),js(e,t,r))}};function lu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ar(n,r)||!Ar(s,i):!0}function Yd(t,e,n){var r=!1,s=bt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ue(i):(s=xe(e)?tn:fe.current,r=e.contextTypes,i=(r=r!=null)?zn(t,s):bt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function au(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yi.enqueueReplaceState(e,e.state,null)}function Vo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},ql(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ue(i):(i=xe(e)?tn:fe.current,s.context=zn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ho(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&yi.enqueueReplaceState(s,s.state,null),Xs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Vn(t,e){try{var n="",r=e;do n+=jh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function eo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ng=typeof WeakMap=="function"?WeakMap:Map;function Jd(t,e,n){n=lt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ri||(ri=!0,nl=r),qo(t,e)},n}function Xd(t,e,n){n=lt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qo(t,e),typeof r!="function"&&(Nt===null?Nt=new Set([this]):Nt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ng;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=mg.bind(null,t,e,n),e.then(t,t))}function cu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function du(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=lt(-1,1),e.tag=2,jt(n,e,1))),n.lanes|=1),t)}var rg=ft.ReactCurrentOwner,ke=!1;function ge(t,e,n,r){e.child=t===null?Od(e,null,n,r):Wn(e,t.child,n,r)}function fu(t,e,n,r,s){n=n.render;var i=e.ref;return Un(e,s),r=Jl(t,e,n,r,i,s),n=Xl(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dt(t,e,s)):(q&&n&&Ml(e),e.flags|=1,ge(t,e,r,s),e.child)}function hu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!aa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Zd(t,e,i,r,s)):(t=Ls(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ar,n(o,r)&&t.ref===e.ref)return dt(t,e,s)}return e.flags|=1,t=At(i,r),t.ref=e.ref,t.return=e,e.child=t}function Zd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ar(i,r)&&t.ref===e.ref)if(ke=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(ke=!0);else return e.lanes=t.lanes,dt(t,e,s)}return Go(t,e,n,r,s)}function ef(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(An,Te),Te|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,B(An,Te),Te|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,B(An,Te),Te|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,B(An,Te),Te|=r;return ge(t,e,s,n),e.child}function tf(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Go(t,e,n,r,s){var i=xe(n)?tn:fe.current;return i=zn(e,i),Un(e,s),n=Jl(t,e,n,r,i,s),r=Xl(),t!==null&&!ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dt(t,e,s)):(q&&r&&Ml(e),e.flags|=1,ge(t,e,n,s),e.child)}function pu(t,e,n,r,s){if(xe(n)){var i=!0;Gs(e)}else i=!1;if(Un(e,s),e.stateNode===null)As(t,e),Yd(e,n,r),Vo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ue(u):(u=xe(n)?tn:fe.current,u=zn(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&au(e,o,r,u),yt=!1;var f=e.memoizedState;o.state=f,Xs(e,r,o,s),a=e.memoizedState,l!==r||f!==a||Ee.current||yt?(typeof c=="function"&&(Ho(e,n,c,r),a=e.memoizedState),(l=yt||lu(e,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jd(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:ze(e.type,l),o.props=u,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Ue(a):(a=xe(n)?tn:fe.current,a=zn(e,a));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&au(e,o,r,a),yt=!1,f=e.memoizedState,o.state=f,Xs(e,r,o,s);var v=e.memoizedState;l!==d||f!==v||Ee.current||yt?(typeof m=="function"&&(Ho(e,n,m,r),v=e.memoizedState),(u=yt||lu(e,n,u,r,f,v,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ko(t,e,n,r,i,s)}function Ko(t,e,n,r,s,i){tf(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Za(e,n,!1),dt(t,e,i);r=e.stateNode,rg.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Wn(e,t.child,null,i),e.child=Wn(e,null,l,i)):ge(t,e,l,i),e.memoizedState=r.state,s&&Za(e,n,!0),e.child}function nf(t){var e=t.stateNode;e.pendingContext?Xa(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xa(t,e.context,!1),Gl(t,e.containerInfo)}function gu(t,e,n,r,s){return Bn(),zl(s),e.flags|=256,ge(t,e,n,r),e.child}var Qo={dehydrated:null,treeContext:null,retryLane:0};function Yo(t){return{baseLanes:t,cachePool:null,transitions:null}}function rf(t,e,n){var r=e.pendingProps,s=G.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),B(G,s&1),t===null)return Bo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Si(o,r,0,null),t=Zt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yo(n),e.memoizedState=Qo,t):ta(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return sg(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=At(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=At(l,i):(i=Zt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Yo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qo,r}return i=t.child,t=i.sibling,r=At(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ta(t,e){return e=Si({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function gs(t,e,n,r){return r!==null&&zl(r),Wn(e,t.child,null,n),t=ta(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function sg(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=eo(Error(S(422))),gs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Si({mode:"visible",children:r.children},s,0,null),i=Zt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Wn(e,t.child,null,o),e.child.memoizedState=Yo(o),e.memoizedState=Qo,i);if(!(e.mode&1))return gs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(S(419)),r=eo(i,r,void 0),gs(t,e,o,r)}if(l=(o&t.childLanes)!==0,ke||l){if(r=se,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ct(t,s),qe(r,t,s,-1))}return la(),r=eo(Error(S(421))),gs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=vg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Oe=Rt(s.nextSibling),Re=e,q=!0,He=null,t!==null&&(Ae[Ie++]=it,Ae[Ie++]=ot,Ae[Ie++]=nn,it=t.id,ot=t.overflow,nn=e),e=ta(e,r.children),e.flags|=4096,e)}function mu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wo(t.return,e,n)}function to(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function sf(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ge(t,e,r.children,n),r=G.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mu(t,n,e);else if(t.tag===19)mu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(B(G,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Zs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),to(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}to(e,!0,n,null,i);break;case"together":to(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function As(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),sn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=At(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=At(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ig(t,e,n){switch(e.tag){case 3:nf(e),Bn();break;case 5:Nd(e);break;case 1:xe(e.type)&&Gs(e);break;case 4:Gl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;B(Ys,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(B(G,G.current&1),e.flags|=128,null):n&e.child.childLanes?rf(t,e,n):(B(G,G.current&1),t=dt(t,e,n),t!==null?t.sibling:null);B(G,G.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return sf(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),B(G,G.current),r)break;return null;case 22:case 23:return e.lanes=0,ef(t,e,n)}return dt(t,e,n)}var of,Jo,lf,af;of=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jo=function(){};lf=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Jt(Ze.current);var i=null;switch(n){case"input":s=wo(t,s),r=wo(t,r),i=[];break;case"select":s=Q({},s,{value:void 0}),r=Q({},r,{value:void 0}),i=[];break;case"textarea":s=ko(t,s),r=ko(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vs)}xo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&H("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};af=function(t,e,n,r){n!==r&&(e.flags|=4)};function ir(t,e){if(!q)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ce(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function og(t,e,n){var r=e.pendingProps;switch(Fl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(e),null;case 1:return xe(e.type)&&qs(),ce(e),null;case 3:return r=e.stateNode,Hn(),V(Ee),V(fe),Ql(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,He!==null&&(il(He),He=null))),Jo(t,e),ce(e),null;case 5:Kl(e);var s=Jt(Ur.current);if(n=e.type,t!==null&&e.stateNode!=null)lf(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return ce(e),null}if(t=Jt(Ze.current),hs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Je]=e,r[Lr]=i,t=(e.mode&1)!==0,n){case"dialog":H("cancel",r),H("close",r);break;case"iframe":case"object":case"embed":H("load",r);break;case"video":case"audio":for(s=0;s<dr.length;s++)H(dr[s],r);break;case"source":H("error",r);break;case"img":case"image":case"link":H("error",r),H("load",r);break;case"details":H("toggle",r);break;case"input":Ca(r,i),H("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},H("invalid",r);break;case"textarea":Oa(r,i),H("invalid",r)}xo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&fs(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&fs(r.textContent,l,t),s=["children",""+l]):Cr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&H("scroll",r)}switch(n){case"input":ss(r),Ta(r,i,!0);break;case"textarea":ss(r),Ra(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Lc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Je]=e,t[Lr]=r,of(t,e,!1,!1),e.stateNode=t;e:{switch(o=Co(n,r),n){case"dialog":H("cancel",t),H("close",t),s=r;break;case"iframe":case"object":case"embed":H("load",t),s=r;break;case"video":case"audio":for(s=0;s<dr.length;s++)H(dr[s],t);s=r;break;case"source":H("error",t),s=r;break;case"img":case"image":case"link":H("error",t),H("load",t),s=r;break;case"details":H("toggle",t),s=r;break;case"input":Ca(t,r),s=wo(t,r),H("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Q({},r,{value:void 0}),H("invalid",t);break;case"textarea":Oa(t,r),s=ko(t,r),H("invalid",t);break;default:s=r}xo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?Dc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&$c(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Tr(t,a):typeof a=="number"&&Tr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&H("scroll",t):a!=null&&Cl(t,i,a,o))}switch(n){case"input":ss(t),Ta(t,r,!1);break;case"textarea":ss(t),Ra(t);break;case"option":r.value!=null&&t.setAttribute("value",""+It(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?In(t,!!r.multiple,i,!1):r.defaultValue!=null&&In(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ce(e),null;case 6:if(t&&e.stateNode!=null)af(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=Jt(Ur.current),Jt(Ze.current),hs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Je]=e,(i=r.nodeValue!==n)&&(t=Re,t!==null))switch(t.tag){case 3:fs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Je]=e,e.stateNode=r}return ce(e),null;case 13:if(V(G),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(q&&Oe!==null&&e.mode&1&&!(e.flags&128))Cd(),Bn(),e.flags|=98560,i=!1;else if(i=hs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(S(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[Je]=e}else Bn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ce(e),i=!1}else He!==null&&(il(He),He=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?ne===0&&(ne=3):la())),e.updateQueue!==null&&(e.flags|=4),ce(e),null);case 4:return Hn(),Jo(t,e),t===null&&Ir(e.stateNode.containerInfo),ce(e),null;case 10:return Hl(e.type._context),ce(e),null;case 17:return xe(e.type)&&qs(),ce(e),null;case 19:if(V(G),i=e.memoizedState,i===null)return ce(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ir(i,!1);else{if(ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zs(t),o!==null){for(e.flags|=128,ir(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return B(G,G.current&1|2),e.child}t=t.sibling}i.tail!==null&&J()>qn&&(e.flags|=128,r=!0,ir(i,!1),e.lanes=4194304)}else{if(!r)if(t=Zs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ir(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!q)return ce(e),null}else 2*J()-i.renderingStartTime>qn&&n!==1073741824&&(e.flags|=128,r=!0,ir(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=J(),e.sibling=null,n=G.current,B(G,r?n&1|2:n&1),e):(ce(e),null);case 22:case 23:return oa(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Te&1073741824&&(ce(e),e.subtreeFlags&6&&(e.flags|=8192)):ce(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function lg(t,e){switch(Fl(e),e.tag){case 1:return xe(e.type)&&qs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hn(),V(Ee),V(fe),Ql(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Kl(e),null;case 13:if(V(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Bn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return V(G),null;case 4:return Hn(),null;case 10:return Hl(e.type._context),null;case 22:case 23:return oa(),null;case 24:return null;default:return null}}var ms=!1,de=!1,ag=typeof WeakSet=="function"?WeakSet:Set,R=null;function Pn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Y(t,e,r)}else n.current=null}function Xo(t,e,n){try{n()}catch(r){Y(t,e,r)}}var vu=!1;function ug(t,e){if(Lo=Bs,t=fd(),Dl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var m;d!==n||s!==0&&d.nodeType!==3||(l=o+s),d!==i||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===s&&(l=o),f===i&&++c===r&&(a=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for($o={focusedElem:t,selectionRange:n},Bs=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,T=v.memoizedState,g=e.stateNode,h=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:ze(e.type,_),T);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(w){Y(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return v=vu,vu=!1,v}function wr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xo(e,n,i)}s=s.next}while(s!==r)}}function wi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uf(t){var e=t.alternate;e!==null&&(t.alternate=null,uf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Je],delete e[Lr],delete e[Mo],delete e[Vp],delete e[qp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cf(t){return t.tag===5||t.tag===3||t.tag===4}function yu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function el(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vs));else if(r!==4&&(t=t.child,t!==null))for(el(t,e,n),t=t.sibling;t!==null;)el(t,e,n),t=t.sibling}function tl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tl(t,e,n),t=t.sibling;t!==null;)tl(t,e,n),t=t.sibling}var ie=null,Be=!1;function pt(t,e,n){for(n=n.child;n!==null;)df(t,e,n),n=n.sibling}function df(t,e,n){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(di,n)}catch{}switch(n.tag){case 5:de||Pn(n,e);case 6:var r=ie,s=Be;ie=null,pt(t,e,n),ie=r,Be=s,ie!==null&&(Be?(t=ie,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ie.removeChild(n.stateNode));break;case 18:ie!==null&&(Be?(t=ie,n=n.stateNode,t.nodeType===8?Ki(t.parentNode,n):t.nodeType===1&&Ki(t,n),Nr(t)):Ki(ie,n.stateNode));break;case 4:r=ie,s=Be,ie=n.stateNode.containerInfo,Be=!0,pt(t,e,n),ie=r,Be=s;break;case 0:case 11:case 14:case 15:if(!de&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xo(n,e,o),s=s.next}while(s!==r)}pt(t,e,n);break;case 1:if(!de&&(Pn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Y(n,e,l)}pt(t,e,n);break;case 21:pt(t,e,n);break;case 22:n.mode&1?(de=(r=de)||n.memoizedState!==null,pt(t,e,n),de=r):pt(t,e,n);break;default:pt(t,e,n)}}function wu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ag),e.forEach(function(r){var s=yg.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Me(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ie=l.stateNode,Be=!1;break e;case 3:ie=l.stateNode.containerInfo,Be=!0;break e;case 4:ie=l.stateNode.containerInfo,Be=!0;break e}l=l.return}if(ie===null)throw Error(S(160));df(i,o,s),ie=null,Be=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Y(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ff(e,t),e=e.sibling}function ff(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Me(e,t),Ke(t),r&4){try{wr(3,t,t.return),wi(3,t)}catch(_){Y(t,t.return,_)}try{wr(5,t,t.return)}catch(_){Y(t,t.return,_)}}break;case 1:Me(e,t),Ke(t),r&512&&n!==null&&Pn(n,n.return);break;case 5:if(Me(e,t),Ke(t),r&512&&n!==null&&Pn(n,n.return),t.flags&32){var s=t.stateNode;try{Tr(s,"")}catch(_){Y(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Ic(s,i),Co(l,o);var u=Co(l,i);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?Dc(s,d):c==="dangerouslySetInnerHTML"?$c(s,d):c==="children"?Tr(s,d):Cl(s,c,d,u)}switch(l){case"input":_o(s,i);break;case"textarea":bc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?In(s,!!i.multiple,m,!1):f!==!!i.multiple&&(i.defaultValue!=null?In(s,!!i.multiple,i.defaultValue,!0):In(s,!!i.multiple,i.multiple?[]:"",!1))}s[Lr]=i}catch(_){Y(t,t.return,_)}}break;case 6:if(Me(e,t),Ke(t),r&4){if(t.stateNode===null)throw Error(S(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Y(t,t.return,_)}}break;case 3:if(Me(e,t),Ke(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nr(e.containerInfo)}catch(_){Y(t,t.return,_)}break;case 4:Me(e,t),Ke(t);break;case 13:Me(e,t),Ke(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sa=J())),r&4&&wu(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(de=(u=de)||c,Me(e,t),de=u):Me(e,t),Ke(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(R=t,c=t.child;c!==null;){for(d=R=c;R!==null;){switch(f=R,m=f.child,f.tag){case 0:case 11:case 14:case 15:wr(4,f,f.return);break;case 1:Pn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Y(r,n,_)}}break;case 5:Pn(f,f.return);break;case 22:if(f.memoizedState!==null){Su(d);continue}}m!==null?(m.return=f,R=m):Su(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Uc("display",o))}catch(_){Y(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Y(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Me(e,t),Ke(t),r&4&&wu(t);break;case 21:break;default:Me(e,t),Ke(t)}}function Ke(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cf(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Tr(s,""),r.flags&=-33);var i=yu(t);tl(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=yu(t);el(t,l,o);break;default:throw Error(S(161))}}catch(a){Y(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cg(t,e,n){R=t,hf(t)}function hf(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ms;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||de;l=ms;var u=de;if(ms=o,(de=a)&&!u)for(R=s;R!==null;)o=R,a=o.child,o.tag===22&&o.memoizedState!==null?ku(s):a!==null?(a.return=o,R=a):ku(s);for(;i!==null;)R=i,hf(i),i=i.sibling;R=s,ms=l,de=u}_u(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):_u(t)}}function _u(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:de||wi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!de)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ze(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&su(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}su(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Nr(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}de||e.flags&512&&Zo(e)}catch(f){Y(e,e.return,f)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function Su(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function ku(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wi(4,e)}catch(a){Y(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){Y(e,s,a)}}var i=e.return;try{Zo(e)}catch(a){Y(e,i,a)}break;case 5:var o=e.return;try{Zo(e)}catch(a){Y(e,o,a)}}}catch(a){Y(e,e.return,a)}if(e===t){R=null;break}var l=e.sibling;if(l!==null){l.return=e.return,R=l;break}R=e.return}}var dg=Math.ceil,ni=ft.ReactCurrentDispatcher,na=ft.ReactCurrentOwner,Le=ft.ReactCurrentBatchConfig,D=0,se=null,X=null,oe=0,Te=0,An=$t(0),ne=0,zr=null,sn=0,_i=0,ra=0,_r=null,we=null,sa=0,qn=1/0,nt=null,ri=!1,nl=null,Nt=null,vs=!1,xt=null,si=0,Sr=0,rl=null,Is=-1,bs=0;function me(){return D&6?J():Is!==-1?Is:Is=J()}function Pt(t){return t.mode&1?D&2&&oe!==0?oe&-oe:Kp.transition!==null?(bs===0&&(bs=Yc()),bs):(t=M,t!==0||(t=window.event,t=t===void 0?16:rd(t.type)),t):1}function qe(t,e,n,r){if(50<Sr)throw Sr=0,rl=null,Error(S(185));qr(t,n,r),(!(D&2)||t!==se)&&(t===se&&(!(D&2)&&(_i|=n),ne===4&&St(t,oe)),Ce(t,r),n===1&&D===0&&!(e.mode&1)&&(qn=J()+500,mi&&Ut()))}function Ce(t,e){var n=t.callbackNode;Kh(t,e);var r=zs(t,t===se?oe:0);if(r===0)n!==null&&Pa(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pa(n),e===1)t.tag===0?Gp(Eu.bind(null,t)):kd(Eu.bind(null,t)),Wp(function(){!(D&6)&&Ut()}),n=null;else{switch(Jc(r)){case 1:n=Nl;break;case 4:n=Kc;break;case 16:n=Fs;break;case 536870912:n=Qc;break;default:n=Fs}n=Sf(n,pf.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function pf(t,e){if(Is=-1,bs=0,D&6)throw Error(S(327));var n=t.callbackNode;if(Dn()&&t.callbackNode!==n)return null;var r=zs(t,t===se?oe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ii(t,r);else{e=r;var s=D;D|=2;var i=mf();(se!==t||oe!==e)&&(nt=null,qn=J()+500,Xt(t,e));do try{pg();break}catch(l){gf(t,l)}while(!0);Wl(),ni.current=i,D=s,X!==null?e=0:(se=null,oe=0,e=ne)}if(e!==0){if(e===2&&(s=No(t),s!==0&&(r=s,e=sl(t,s))),e===1)throw n=zr,Xt(t,0),St(t,r),Ce(t,J()),n;if(e===6)St(t,r);else{if(s=t.current.alternate,!(r&30)&&!fg(s)&&(e=ii(t,r),e===2&&(i=No(t),i!==0&&(r=i,e=sl(t,i))),e===1))throw n=zr,Xt(t,0),St(t,r),Ce(t,J()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:qt(t,we,nt);break;case 3:if(St(t,r),(r&130023424)===r&&(e=sa+500-J(),10<e)){if(zs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){me(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Do(qt.bind(null,t,we,nt),e);break}qt(t,we,nt);break;case 4:if(St(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ve(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=J()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dg(r/1960))-r,10<r){t.timeoutHandle=Do(qt.bind(null,t,we,nt),r);break}qt(t,we,nt);break;case 5:qt(t,we,nt);break;default:throw Error(S(329))}}}return Ce(t,J()),t.callbackNode===n?pf.bind(null,t):null}function sl(t,e){var n=_r;return t.current.memoizedState.isDehydrated&&(Xt(t,e).flags|=256),t=ii(t,e),t!==2&&(e=we,we=n,e!==null&&il(e)),t}function il(t){we===null?we=t:we.push.apply(we,t)}function fg(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ge(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function St(t,e){for(e&=~ra,e&=~_i,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ve(e),r=1<<n;t[n]=-1,e&=~r}}function Eu(t){if(D&6)throw Error(S(327));Dn();var e=zs(t,0);if(!(e&1))return Ce(t,J()),null;var n=ii(t,e);if(t.tag!==0&&n===2){var r=No(t);r!==0&&(e=r,n=sl(t,r))}if(n===1)throw n=zr,Xt(t,0),St(t,e),Ce(t,J()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qt(t,we,nt),Ce(t,J()),null}function ia(t,e){var n=D;D|=1;try{return t(e)}finally{D=n,D===0&&(qn=J()+500,mi&&Ut())}}function on(t){xt!==null&&xt.tag===0&&!(D&6)&&Dn();var e=D;D|=1;var n=Le.transition,r=M;try{if(Le.transition=null,M=1,t)return t()}finally{M=r,Le.transition=n,D=e,!(D&6)&&Ut()}}function oa(){Te=An.current,V(An)}function Xt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Bp(n)),X!==null)for(n=X.return;n!==null;){var r=n;switch(Fl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qs();break;case 3:Hn(),V(Ee),V(fe),Ql();break;case 5:Kl(r);break;case 4:Hn();break;case 13:V(G);break;case 19:V(G);break;case 10:Hl(r.type._context);break;case 22:case 23:oa()}n=n.return}if(se=t,X=t=At(t.current,null),oe=Te=e,ne=0,zr=null,ra=_i=sn=0,we=_r=null,Yt!==null){for(e=0;e<Yt.length;e++)if(n=Yt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Yt=null}return t}function gf(t,e){do{var n=X;try{if(Wl(),Ns.current=ti,ei){for(var r=K.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ei=!1}if(rn=0,re=te=K=null,yr=!1,Dr=0,na.current=null,n===null||n.return===null){ne=1,zr=e,X=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=oe,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=cu(o);if(m!==null){m.flags&=-257,du(m,o,l,i,e),m.mode&1&&uu(i,u,e),e=m,a=u;var v=e.updateQueue;if(v===null){var _=new Set;_.add(a),e.updateQueue=_}else v.add(a);break e}else{if(!(e&1)){uu(i,u,e),la();break e}a=Error(S(426))}}else if(q&&l.mode&1){var T=cu(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),du(T,o,l,i,e),zl(Vn(a,l));break e}}i=a=Vn(a,l),ne!==4&&(ne=2),_r===null?_r=[i]:_r.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Jd(i,a,e);ru(i,g);break e;case 1:l=a;var h=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Nt===null||!Nt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Xd(i,l,e);ru(i,w);break e}}i=i.return}while(i!==null)}yf(n)}catch(E){e=E,X===n&&n!==null&&(X=n=n.return);continue}break}while(!0)}function mf(){var t=ni.current;return ni.current=ti,t===null?ti:t}function la(){(ne===0||ne===3||ne===2)&&(ne=4),se===null||!(sn&268435455)&&!(_i&268435455)||St(se,oe)}function ii(t,e){var n=D;D|=2;var r=mf();(se!==t||oe!==e)&&(nt=null,Xt(t,e));do try{hg();break}catch(s){gf(t,s)}while(!0);if(Wl(),D=n,ni.current=r,X!==null)throw Error(S(261));return se=null,oe=0,ne}function hg(){for(;X!==null;)vf(X)}function pg(){for(;X!==null&&!Mh();)vf(X)}function vf(t){var e=_f(t.alternate,t,Te);t.memoizedProps=t.pendingProps,e===null?yf(t):X=e,na.current=null}function yf(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lg(n,e),n!==null){n.flags&=32767,X=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ne=6,X=null;return}}else if(n=og(n,e,Te),n!==null){X=n;return}if(e=e.sibling,e!==null){X=e;return}X=e=t}while(e!==null);ne===0&&(ne=5)}function qt(t,e,n){var r=M,s=Le.transition;try{Le.transition=null,M=1,gg(t,e,n,r)}finally{Le.transition=s,M=r}return null}function gg(t,e,n,r){do Dn();while(xt!==null);if(D&6)throw Error(S(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Qh(t,i),t===se&&(X=se=null,oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||vs||(vs=!0,Sf(Fs,function(){return Dn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Le.transition,Le.transition=null;var o=M;M=1;var l=D;D|=4,na.current=null,ug(t,n),ff(n,t),Lp($o),Bs=!!Lo,$o=Lo=null,t.current=n,cg(n),Fh(),D=l,M=o,Le.transition=i}else t.current=n;if(vs&&(vs=!1,xt=t,si=s),i=t.pendingLanes,i===0&&(Nt=null),Wh(n.stateNode),Ce(t,J()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ri)throw ri=!1,t=nl,nl=null,t;return si&1&&t.tag!==0&&Dn(),i=t.pendingLanes,i&1?t===rl?Sr++:(Sr=0,rl=t):Sr=0,Ut(),null}function Dn(){if(xt!==null){var t=Jc(si),e=Le.transition,n=M;try{if(Le.transition=null,M=16>t?16:t,xt===null)var r=!1;else{if(t=xt,xt=null,si=0,D&6)throw Error(S(331));var s=D;for(D|=4,R=t.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(R=u;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:wr(8,c,i)}var d=c.child;if(d!==null)d.return=c,R=d;else for(;R!==null;){c=R;var f=c.sibling,m=c.return;if(uf(c),c===u){R=null;break}if(f!==null){f.return=m,R=f;break}R=m}}}var v=i.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var T=_.sibling;_.sibling=null,_=T}while(_!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:wr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var h=t.current;for(R=h;R!==null;){o=R;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,R=p;else e:for(o=h;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:wi(9,l)}}catch(E){Y(l,l.return,E)}if(l===o){R=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,R=w;break e}R=l.return}}if(D=s,Ut(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(di,t)}catch{}r=!0}return r}finally{M=n,Le.transition=e}}return!1}function xu(t,e,n){e=Vn(n,e),e=Jd(t,e,1),t=jt(t,e,1),e=me(),t!==null&&(qr(t,1,e),Ce(t,e))}function Y(t,e,n){if(t.tag===3)xu(t,t,n);else for(;e!==null;){if(e.tag===3){xu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nt===null||!Nt.has(r))){t=Vn(n,t),t=Xd(e,t,1),e=jt(e,t,1),t=me(),e!==null&&(qr(e,1,t),Ce(e,t));break}}e=e.return}}function mg(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=me(),t.pingedLanes|=t.suspendedLanes&n,se===t&&(oe&n)===n&&(ne===4||ne===3&&(oe&130023424)===oe&&500>J()-sa?Xt(t,0):ra|=n),Ce(t,e)}function wf(t,e){e===0&&(t.mode&1?(e=ls,ls<<=1,!(ls&130023424)&&(ls=4194304)):e=1);var n=me();t=ct(t,e),t!==null&&(qr(t,e,n),Ce(t,n))}function vg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wf(t,n)}function yg(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),wf(t,n)}var _f;_f=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ee.current)ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ke=!1,ig(t,e,n);ke=!!(t.flags&131072)}else ke=!1,q&&e.flags&1048576&&Ed(e,Qs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;As(t,e),t=e.pendingProps;var s=zn(e,fe.current);Un(e,n),s=Jl(null,e,r,t,s,n);var i=Xl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,xe(r)?(i=!0,Gs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ql(e),s.updater=yi,e.stateNode=s,s._reactInternals=e,Vo(e,r,t,n),e=Ko(null,e,r,!0,i,n)):(e.tag=0,q&&i&&Ml(e),ge(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(As(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=_g(r),t=ze(r,t),s){case 0:e=Go(null,e,r,t,n);break e;case 1:e=pu(null,e,r,t,n);break e;case 11:e=fu(null,e,r,t,n);break e;case 14:e=hu(null,e,r,ze(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ze(r,s),Go(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ze(r,s),pu(t,e,r,s,n);case 3:e:{if(nf(e),t===null)throw Error(S(387));r=e.pendingProps,i=e.memoizedState,s=i.element,jd(t,e),Xs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vn(Error(S(423)),e),e=gu(t,e,r,n,s);break e}else if(r!==s){s=Vn(Error(S(424)),e),e=gu(t,e,r,n,s);break e}else for(Oe=Rt(e.stateNode.containerInfo.firstChild),Re=e,q=!0,He=null,n=Od(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bn(),r===s){e=dt(t,e,n);break e}ge(t,e,r,n)}e=e.child}return e;case 5:return Nd(e),t===null&&Bo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Uo(r,s)?o=null:i!==null&&Uo(r,i)&&(e.flags|=32),tf(t,e),ge(t,e,o,n),e.child;case 6:return t===null&&Bo(e),null;case 13:return rf(t,e,n);case 4:return Gl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wn(e,null,r,n):ge(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ze(r,s),fu(t,e,r,s,n);case 7:return ge(t,e,e.pendingProps,n),e.child;case 8:return ge(t,e,e.pendingProps.children,n),e.child;case 12:return ge(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,B(Ys,r._currentValue),r._currentValue=o,i!==null)if(Ge(i.value,o)){if(i.children===s.children&&!Ee.current){e=dt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=lt(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Wo(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ge(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Un(e,n),s=Ue(s),r=r(s),e.flags|=1,ge(t,e,r,n),e.child;case 14:return r=e.type,s=ze(r,e.pendingProps),s=ze(r.type,s),hu(t,e,r,s,n);case 15:return Zd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ze(r,s),As(t,e),e.tag=1,xe(r)?(t=!0,Gs(e)):t=!1,Un(e,n),Yd(e,r,s),Vo(e,r,s,n),Ko(null,e,r,!0,t,n);case 19:return sf(t,e,n);case 22:return ef(t,e,n)}throw Error(S(156,e.tag))};function Sf(t,e){return Gc(t,e)}function wg(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function be(t,e,n,r){return new wg(t,e,n,r)}function aa(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _g(t){if(typeof t=="function")return aa(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ol)return 11;if(t===Rl)return 14}return 2}function At(t,e){var n=t.alternate;return n===null?(n=be(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ls(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")aa(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case kn:return Zt(n.children,s,i,e);case Tl:o=8,s|=8;break;case go:return t=be(12,n,e,s|2),t.elementType=go,t.lanes=i,t;case mo:return t=be(13,n,e,s),t.elementType=mo,t.lanes=i,t;case vo:return t=be(19,n,e,s),t.elementType=vo,t.lanes=i,t;case Nc:return Si(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Rc:o=10;break e;case jc:o=9;break e;case Ol:o=11;break e;case Rl:o=14;break e;case vt:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=be(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Zt(t,e,n,r){return t=be(7,t,r,e),t.lanes=n,t}function Si(t,e,n,r){return t=be(22,t,r,e),t.elementType=Nc,t.lanes=n,t.stateNode={isHidden:!1},t}function no(t,e,n){return t=be(6,t,null,e),t.lanes=n,t}function ro(t,e,n){return e=be(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sg(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ua(t,e,n,r,s,i,o,l,a){return t=new Sg(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=be(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ql(i),t}function kg(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kf(t){if(!t)return bt;t=t._reactInternals;e:{if(un(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(xe(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(xe(n))return Sd(t,n,e)}return e}function Ef(t,e,n,r,s,i,o,l,a){return t=ua(n,r,!0,t,s,i,o,l,a),t.context=kf(null),n=t.current,r=me(),s=Pt(n),i=lt(r,s),i.callback=e??null,jt(n,i,s),t.current.lanes=s,qr(t,s,r),Ce(t,r),t}function ki(t,e,n,r){var s=e.current,i=me(),o=Pt(s);return n=kf(n),e.context===null?e.context=n:e.pendingContext=n,e=lt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jt(s,e,o),t!==null&&(qe(t,s,o,i),js(t,s,o)),o}function oi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ca(t,e){Cu(t,e),(t=t.alternate)&&Cu(t,e)}function Eg(){return null}var xf=typeof reportError=="function"?reportError:function(t){console.error(t)};function da(t){this._internalRoot=t}Ei.prototype.render=da.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));ki(t,e,null,null)};Ei.prototype.unmount=da.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;on(function(){ki(null,t,null,null)}),e[ut]=null}};function Ei(t){this._internalRoot=t}Ei.prototype.unstable_scheduleHydration=function(t){if(t){var e=ed();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_t.length&&e!==0&&e<_t[n].priority;n++);_t.splice(n,0,t),n===0&&nd(t)}};function fa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tu(){}function xg(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=oi(o);i.call(u)}}var o=Ef(e,r,t,0,null,!1,!1,"",Tu);return t._reactRootContainer=o,t[ut]=o.current,Ir(t.nodeType===8?t.parentNode:t),on(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=oi(a);l.call(u)}}var a=ua(t,0,!1,null,null,!1,!1,"",Tu);return t._reactRootContainer=a,t[ut]=a.current,Ir(t.nodeType===8?t.parentNode:t),on(function(){ki(e,a,n,r)}),a}function Ci(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=oi(o);l.call(a)}}ki(e,o,t,s)}else o=xg(n,e,t,s,r);return oi(o)}Xc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cr(e.pendingLanes);n!==0&&(Pl(e,n|1),Ce(e,J()),!(D&6)&&(qn=J()+500,Ut()))}break;case 13:on(function(){var r=ct(t,1);if(r!==null){var s=me();qe(r,t,1,s)}}),ca(t,1)}};Al=function(t){if(t.tag===13){var e=ct(t,134217728);if(e!==null){var n=me();qe(e,t,134217728,n)}ca(t,134217728)}};Zc=function(t){if(t.tag===13){var e=Pt(t),n=ct(t,e);if(n!==null){var r=me();qe(n,t,e,r)}ca(t,e)}};ed=function(){return M};td=function(t,e){var n=M;try{return M=t,e()}finally{M=n}};Oo=function(t,e,n){switch(e){case"input":if(_o(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=gi(r);if(!s)throw Error(S(90));Ac(r),_o(r,s)}}}break;case"textarea":bc(t,n);break;case"select":e=n.value,e!=null&&In(t,!!n.multiple,e,!1)}};zc=ia;Bc=on;var Cg={usingClientEntryPoint:!1,Events:[Kr,Tn,gi,Mc,Fc,ia]},or={findFiberByHostInstance:Qt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tg={bundleType:or.bundleType,version:or.version,rendererPackageName:or.rendererPackageName,rendererConfig:or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vc(t),t===null?null:t.stateNode},findFiberByHostInstance:or.findFiberByHostInstance||Eg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{di=ys.inject(Tg),Xe=ys}catch{}}Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cg;Ne.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fa(e))throw Error(S(200));return kg(t,e,null,n)};Ne.createRoot=function(t,e){if(!fa(t))throw Error(S(299));var n=!1,r="",s=xf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ua(t,1,!1,null,null,n,!1,r,s),t[ut]=e.current,Ir(t.nodeType===8?t.parentNode:t),new da(e)};Ne.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=Vc(e),t=t===null?null:t.stateNode,t};Ne.flushSync=function(t){return on(t)};Ne.hydrate=function(t,e,n){if(!xi(e))throw Error(S(200));return Ci(null,t,e,!0,n)};Ne.hydrateRoot=function(t,e,n){if(!fa(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=xf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ef(e,null,t,1,n??null,s,!1,i,o),t[ut]=e.current,Ir(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ei(e)};Ne.render=function(t,e,n){if(!xi(e))throw Error(S(200));return Ci(null,t,e,!1,n)};Ne.unmountComponentAtNode=function(t){if(!xi(t))throw Error(S(40));return t._reactRootContainer?(on(function(){Ci(null,null,t,!1,function(){t._reactRootContainer=null,t[ut]=null})}),!0):!1};Ne.unstable_batchedUpdates=ia;Ne.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!xi(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return Ci(t,e,n,!1,r)};Ne.version="18.3.1-next-f1338f8080-20240426";function Cf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cf)}catch(t){console.error(t)}}Cf(),xc.exports=Ne;var Og=xc.exports,Ou=Og;ho.createRoot=Ou.createRoot,ho.hydrateRoot=Ou.hydrateRoot;const Rg=()=>y.jsxs("header",{className:"relative h-[400px] md:h-[500px] overflow-hidden rounded-b-xl shadow-glow animate-fade-in-up",children:[y.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-500 ease-out",style:{backgroundImage:"url(https://images.pexels.com/photos/8386440/pexels-photo-8386440.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2)",backgroundAttachment:"fixed"},children:y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/60 to-transparent opacity-90"})}),y.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center h-full text-center px-4",children:[y.jsx("div",{className:"mb-6",children:y.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-primary/20 rounded-full mb-4",children:y.jsx("svg",{className:"w-10 h-10 text-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})})}),y.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-text drop-shadow-lg mb-4 leading-tight",children:["AI-Powered ",y.jsx("span",{className:"text-primary",children:"Question"})," Validator"]}),y.jsxs("p",{className:"text-lg md:text-xl text-textSecondary max-w-3xl animate-fade-in-up delay-200",children:["Leveraging ",y.jsx("strong",{className:"text-secondary",children:"Gemini 2.0 Flash"})," to meticulously validate educational content. Check each question manually for accuracy and correctness."]}),y.jsxs("div",{className:"mt-6 flex items-center gap-4 text-sm text-textSecondary animate-fade-in-up delay-400",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-3 h-3 bg-success rounded-full"}),y.jsx("span",{children:"Correct Questions"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-3 h-3 bg-error rounded-full"}),y.jsx("span",{children:"Wrong Questions"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("div",{className:"w-3 h-3 bg-textSecondary rounded-full"}),y.jsx("span",{children:"Not Checked"})]})]})]})]}),jg="modulepreload",Ng=function(t){return"/"+t},Ru={},Yr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Ng(a),a in Ru)return;Ru[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":jg,u||(d.as="script"),d.crossOrigin="",d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Pg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yr(async()=>{const{default:r}=await Promise.resolve().then(()=>Jn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ha extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ag extends ha{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ju extends ha{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nu extends ha{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ol;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ol||(ol={}));var Ig=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class bg{constructor(e,{headers:n={},customFetch:r,region:s=ol.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Pg(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Ig(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const u=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,u.searchParams.set("forceFunctionRegion",a));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(_=>{throw new Ag(_)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new ju(d);if(!d.ok)throw new Nu(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return m==="application/json"?v=yield d.json():m==="application/octet-stream"?v=yield d.blob():m==="text/event-stream"?v=d:m==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof Nu||s instanceof ju?s.context:void 0}}})}}var _e={},pa={},Ti={},Jr={},Oi={},Ri={},Lg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gn=Lg();const $g=Gn.fetch,Tf=Gn.fetch.bind(Gn),Of=Gn.Headers,Ug=Gn.Request,Dg=Gn.Response,Jn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Of,Request:Ug,Response:Dg,default:Tf,fetch:$g},Symbol.toStringTag,{value:"Module"})),Mg=eh(Jn);var ji={};Object.defineProperty(ji,"__esModule",{value:!0});let Fg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ji.default=Fg;var Rf=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ri,"__esModule",{value:!0});const zg=Rf(Mg),Bg=Rf(ji);let Wg=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=zg.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,u;let c=null,d=null,f=null,m=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const h=await i.text();h===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=h:d=JSON.parse(h))}const T=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");T&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const T=await i.text();try{c=JSON.parse(T),Array.isArray(c)&&i.status===404&&(d=[],c=null,m=200,v="OK")}catch{i.status===404&&T===""?(m=204,v="No Content"):c={message:T}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,m=200,v="OK"),c&&this.shouldThrowOnError)throw new Bg.default(c)}return{error:c,data:d,count:f,status:m,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Ri.default=Wg;var Hg=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oi,"__esModule",{value:!0});const Vg=Hg(Ri);let qg=class extends Vg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Oi.default=qg;var Gg=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jr,"__esModule",{value:!0});const Kg=Gg(Oi);let Qg=class extends Kg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Jr.default=Qg;var Yg=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ti,"__esModule",{value:!0});const lr=Yg(Jr);let Jg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new lr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new lr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new lr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new lr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new lr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ti.default=Jg;var jf=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pa,"__esModule",{value:!0});const Xg=jf(Ti),Zg=jf(Jr);let em=class Nf{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Xg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Nf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(l="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new Zg.default({method:l,url:a,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};pa.default=em;var Xn=$e&&$e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_e,"__esModule",{value:!0});_e.PostgrestError=_e.PostgrestBuilder=_e.PostgrestTransformBuilder=_e.PostgrestFilterBuilder=_e.PostgrestQueryBuilder=_e.PostgrestClient=void 0;const Pf=Xn(pa);_e.PostgrestClient=Pf.default;const Af=Xn(Ti);_e.PostgrestQueryBuilder=Af.default;const If=Xn(Jr);_e.PostgrestFilterBuilder=If.default;const bf=Xn(Oi);_e.PostgrestTransformBuilder=bf.default;const Lf=Xn(Ri);_e.PostgrestBuilder=Lf.default;const $f=Xn(ji);_e.PostgrestError=$f.default;var tm=_e.default={PostgrestClient:Pf.default,PostgrestQueryBuilder:Af.default,PostgrestFilterBuilder:If.default,PostgrestTransformBuilder:bf.default,PostgrestBuilder:Lf.default,PostgrestError:$f.default};const{PostgrestClient:nm,PostgrestQueryBuilder:Qy,PostgrestFilterBuilder:Yy,PostgrestTransformBuilder:Jy,PostgrestBuilder:Xy,PostgrestError:Zy}=tm;class rm{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const sm="2.15.5",im=`realtime-js/${sm}`,om="1.0.0",ll=1e4,lm=1e3,am=100;var kr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(kr||(kr={}));var Z;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Z||(Z={}));var We;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(We||(We={}));var al;(function(t){t.websocket="websocket"})(al||(al={}));var Kt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kt||(Kt={}));class um{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class Uf{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(z||(z={}));const Pu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=cm(o,t,e,s),i),{})},cm=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Df(i,o):ul(o)},Df=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return pm(e,n)}switch(t){case z.bool:return dm(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return fm(e);case z.json:case z.jsonb:return hm(e);case z.timestamp:return gm(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return ul(e);default:return ul(e)}},ul=t=>t,dm=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fm=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hm=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pm=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Df(e,l))}return t},gm=t=>typeof t=="string"?t.replace(" ","T"):t,Mf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class so{constructor(e,n,r={},s=ll){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Au;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Au||(Au={}));class Er{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Er.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=Er.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Er.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const d=i[u];if(d){const f=c.map(T=>T.presence_ref),m=d.map(T=>T.presence_ref),v=c.filter(T=>m.indexOf(T.presence_ref)<0),_=d.filter(T=>f.indexOf(T.presence_ref)<0);v.length>0&&(l[u]=v),_.length>0&&(a[u]=_)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),c.length>0){const d=e[l].map(m=>m.presence_ref),f=c.filter(m=>d.indexOf(m.presence_ref)<0);e[l].unshift(...f)}r(l,c,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const c=a.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Iu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Iu||(Iu={}));var xr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xr||(xr={}));var rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class ga{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Z.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new so(this,We.join,this.params,this.timeout),this.rejoinTimer=new Uf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Z.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Z.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Z.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Z.errored,this.rejoinTimer.scheduleTimeout())}),this._on(We.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Er(this),this.broadcastEndpointURL=Mf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Z.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[xr.PRESENCE]&&this.bindings[xr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(rt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(rt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){e==null||e(rt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,T=(v=_==null?void 0:_.length)!==null&&v!==void 0?v:0,g=[];for(let h=0;h<T;h++){const p=_[h],{filter:{event:w,schema:E,table:k,filter:x}}=p,j=m&&m[h];if(j&&j.event===w&&j.schema===E&&j.table===k&&j.filter===x)g.push(Object.assign(Object.assign({},p),{id:j.id}));else{this.unsubscribe(),this.state=Z.errored,e==null||e(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(rt.SUBSCRIBED);return}}).receive("error",m=>{this.state=Z.errored,e==null||e(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Z.joined&&e===xr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Z.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(We.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new so(this,We.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Z.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new so(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>am){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=We;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var v,_,T;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((T=(_=m.filter)===null||_===void 0?void 0:_.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===o}).map(m=>m.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,_,T,g,h,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,E=(v=m.filter)===null||v===void 0?void 0:v.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const w=(h=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return w==="*"||w===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:_,table:T,commit_timestamp:g,type:h,errors:p}=v;f=Object.assign(Object.assign({},{schema:_,table:T,commit_timestamp:g,eventType:h,new:{},old:{},errors:p}),this._getPayloadRecords(v))}m.callback(f,r)})}_isClosed(){return this.state===Z.closed}_isJoined(){return this.state===Z.joined}_isJoining(){return this.state===Z.joining}_isLeaving(){return this.state===Z.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ga.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(We.close,{},e)}_onError(e){this._on(We.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Z.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Pu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Pu(e.columns,e.old_record)),n}}const io=()=>{},ws={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},mm=[1e3,2e3,5e3,1e4],vm=1e4,ym=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wm{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ll,this.transport=null,this.heartbeatIntervalMs=ws.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=io,this.ref=0,this.reconnectTimer=null,this.logger=io,this.conn=null,this.sendBuffer=[],this.serializer=new um,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Yr(async()=>{const{default:l}=await Promise.resolve().then(()=>Jn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${al.websocket}`,this.httpEndpoint=Mf(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rm.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:om}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case kr.connecting:return Kt.Connecting;case kr.open:return Kt.Open;case kr.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ga(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lm,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ws.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(We.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ym],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:im};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(We.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Uf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ws.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ll,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ws.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:io,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:d=>mm[d-1]||vm,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(d,f)=>f(JSON.stringify(d)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ma extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ee(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class _m extends ma{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cl extends ma{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Sm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Ff=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yr(async()=>{const{default:r}=await Promise.resolve().then(()=>Jn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},km=()=>Sm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Yr(()=>Promise.resolve().then(()=>Jn),void 0)).Response:Response}),dl=t=>{if(Array.isArray(t))return t.map(n=>dl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=dl(r)}),e},Em=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var cn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xm=(t,e,n)=>cn(void 0,void 0,void 0,function*(){const r=yield km();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new _m(oo(s),i,o))}).catch(s=>{e(new cl(oo(s),s))}):e(new cl(oo(t),t))}),Cm=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Em(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Xr(t,e,n,r,s,i){return cn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,Cm(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>xm(a,l,r))})})}function li(t,e,n,r){return cn(this,void 0,void 0,function*(){return Xr(t,"GET",e,n,r)})}function Ye(t,e,n,r,s){return cn(this,void 0,void 0,function*(){return Xr(t,"POST",e,r,s,n)})}function fl(t,e,n,r,s){return cn(this,void 0,void 0,function*(){return Xr(t,"PUT",e,r,s,n)})}function Tm(t,e,n,r){return cn(this,void 0,void 0,function*(){return Xr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function zf(t,e,n,r,s){return cn(this,void 0,void 0,function*(){return Xr(t,"DELETE",e,r,s,n)})}var pe=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Om={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rm{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ff(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},bu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),d=yield(e=="PUT"?fl:Ye)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ee(i))return{data:null,error:i};throw i}})}upload(e,n,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:bu.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield fl(this.fetch,l.toString(),a,{headers:c});return{data:{path:i,fullPath:d.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(ee(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Ye(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ma("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}update(e,n,r){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return pe(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}copy(e,n,r){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield Ye(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Ye(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return pe(this,void 0,void 0,function*(){try{const s=yield Ye(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}download(e,n){return pe(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield li(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ee(l))return{data:null,error:l};throw l}})}info(e){return pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield li(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:dl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}exists(e){return pe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield Tm(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r)&&r instanceof cl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return pe(this,void 0,void 0,function*(){try{return{data:yield zf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}list(e,n,r){return pe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Om),n),{prefix:e||""});return{data:yield Ye(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ee(s))return{data:null,error:s};throw s}})}listV2(e,n){return pe(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ye(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const jm="2.12.1",Nm={"X-Client-Info":`storage-js/${jm}`};var hn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class Pm{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Nm),n),this.fetch=Ff(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return hn(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ee(e))return{data:null,error:e};throw e}})}getBucket(e){return hn(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return hn(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return hn(this,void 0,void 0,function*(){try{return{data:yield fl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ee(r))return{data:null,error:r};throw r}})}emptyBucket(e){return hn(this,void 0,void 0,function*(){try{return{data:yield Ye(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}deleteBucket(e){return hn(this,void 0,void 0,function*(){try{return{data:yield zf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ee(n))return{data:null,error:n};throw n}})}}class Am extends Pm{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Rm(this.url,this.headers,e,this.fetch)}}const Im="2.57.4";let fr="";typeof Deno<"u"?fr="deno":typeof document<"u"?fr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fr="react-native":fr="node";const bm={"X-Client-Info":`supabase-js-${fr}/${Im}`},Lm={headers:bm},$m={schema:"public"},Um={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dm={};var Mm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Fm=t=>{let e;return t?e=t:typeof fetch>"u"?e=Tf:e=fetch,(...n)=>e(...n)},zm=()=>typeof Headers>"u"?Of:Headers,Bm=(t,e,n)=>{const r=Fm(n),s=zm();return(i,o)=>Mm(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Wm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function Hm(t){return t.endsWith("/")?t:t+"/"}function Vm(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:c,global:d}=e,f={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Wm(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function qm(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Hm(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Bf="2.71.1",wn=30*1e3,hl=3,lo=hl*wn,Gm="http://localhost:9999",Km="supabase.auth.token",Qm={"X-Client-Info":`gotrue-js/${Bf}`},pl="X-Supabase-Api-Version",Wf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ym=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Jm=10*60*1e3;class va extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Xm extends va{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Zm(t){return L(t)&&t.name==="AuthApiError"}class Hf extends va{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Dt extends va{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class mt extends Dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ev(t){return L(t)&&t.name==="AuthSessionMissingError"}class _s extends Dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ss extends Dt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ks extends Dt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tv(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class Lu extends Dt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gl extends Dt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ao(t){return L(t)&&t.name==="AuthRetryableFetchError"}class $u extends Dt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ml extends Dt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ai="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uu=` 	
\r=`.split(""),nv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Uu.length;e+=1)t[Uu[e].charCodeAt(0)]=-2;for(let e=0;e<ai.length;e+=1)t[ai[e].charCodeAt(0)]=e;return t})();function Du(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ai[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ai[r]),e.queuedBits-=6}}function Vf(t,e,n){const r=nv[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{iv(o,r,n)};for(let o=0;o<t.length;o+=1)Vf(t.charCodeAt(o),s,i);return e.join("")}function rv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function sv(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}rv(r,e)}}function iv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ov(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Vf(t.charCodeAt(s),n,r);return new Uint8Array(e)}function lv(t){const e=[];return sv(t,n=>e.push(n)),new Uint8Array(e)}function av(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Du(s,n,r)),Du(null,n,r),e.join("")}function uv(t){return Math.round(Date.now()/1e3)+t}function cv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Fe=()=>typeof window<"u"&&typeof document<"u",Wt={tested:!1,writable:!1},qf=()=>{if(!Fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wt.tested)return Wt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wt.tested=!0,Wt.writable=!0}catch{Wt.tested=!0,Wt.writable=!1}return Wt.writable};function dv(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Gf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Yr(async()=>{const{default:r}=await Promise.resolve().then(()=>Jn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},fv=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",_n=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ht=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gt=async(t,e)=>{await t.removeItem(e)};class Ni{constructor(){this.promise=new Ni.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ni.promiseConstructor=Promise;function uo(t){const e=t.split(".");if(e.length!==3)throw new ml("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Ym.test(e[r]))throw new ml("JWT not in base64url format");return{header:JSON.parse(Mu(e[0])),payload:JSON.parse(Mu(e[1])),signature:ov(e[2]),raw:{header:e[0],payload:e[1]}}}async function hv(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function pv(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function gv(t){return("0"+t.toString(16)).substr(-2)}function mv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,gv).join("")}async function vv(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function yv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await vv(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function pn(t,e,n=!1){const r=mv();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await _n(t,`${e}-code-verifier`,s);const i=await yv(r);return[i,r===i?"plain":"s256"]}const wv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _v(t){const e=t.headers.get(pl);if(!e||!e.match(wv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Sv(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function kv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ev=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gn(t){if(!Ev.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function co(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Fu(t){return JSON.parse(JSON.stringify(t))}var xv=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Gt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Cv=[502,503,504];async function zu(t){var e;if(!fv(t))throw new gl(Gt(t),0);if(Cv.includes(t.status))throw new gl(Gt(t),t.status);let n;try{n=await t.json()}catch(i){throw new Hf(Gt(i),i)}let r;const s=_v(t);if(s&&s.getTime()>=Wf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new $u(Gt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new mt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new $u(Gt(n),t.status,n.weak_password.reasons);throw new Xm(Gt(n),t.status||500,r)}const Tv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function $(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[pl]||(i[pl]=Wf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Ov(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function Ov(t,e,n,r,s,i){const o=Tv(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new gl(Gt(a),0)}if(l.ok||await zu(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await zu(a)}}function et(t){var e;let n=null;Pv(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=uv(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Bu(t){const e=et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Rv(t){return{data:t,error:null}}function jv(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=xv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Nv(t){return t}function Pv(t){return t.access_token&&t.refresh_token&&t.expires_in}const fo=["global","local","others"];var Av=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Iv{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Gf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=fo[0]){if(fo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fo.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Av(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:jv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Nv});if(c.error)throw c.error;const d=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return m.length>0&&(m.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(v.split(";")[1].split("=")[1]);u[`${T}Page`]=_}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){gn(e);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){gn(e);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:kt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){gn(e);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:kt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){gn(e.userId);try{const{data:n,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(e){gn(e.userId),gn(e.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}function Wu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function bv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mn={debug:!!(globalThis&&qf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Lv extends Kf{}async function $v(t,e,n){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),mn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw mn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Lv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(mn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}bv();const Uv={url:Gm,storageKey:Km,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hu(t,e,n){return await n()}const vn={};class Br{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Br.nextInstanceID,Br.nextInstanceID+=1,this.instanceID>0&&Fe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Uv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Iv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Gf(s.fetch),this.lock=s.lock||Hu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Fe()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=$v:this.lock=Hu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:qf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Wu(this.memoryStorage)),Fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=vn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){vn[this.storageKey]=Object.assign(Object.assign({},vn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=vn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vn[this.storageKey]=Object.assign(Object.assign({},vn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bf}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=dv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Fe()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),tv(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new Hf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:et}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:d,options:f}=e;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await pn(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:v},xform:et})}else if("phone"in e){const{phone:c,password:d,options:f}=e;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:et})}else throw new Ss("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bu})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Bu})}else throw new Ss("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new _s}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,u,c,d,f,m;let v,_;if("message"in e)v=e.message,_=e.signature;else{const{chain:T,wallet:g,statement:h,options:p}=e;let w;if(Fe())if(typeof g=="object")w=g;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))w=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const E=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const k=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),h?{statement:h}:null));let x;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")x=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)x=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in x&&"signature"in x&&(typeof x.signedMessage=="string"||x.signedMessage instanceof Uint8Array)&&x.signature instanceof Uint8Array)v=typeof x.signedMessage=="string"?x.signedMessage:new TextDecoder().decode(x.signedMessage),_=x.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${E.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(x=>`- ${x}`)]:[]].join(`
`);const k=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=k}}try{const{data:T,error:g}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:av(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:et});if(g)throw g;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new _s}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:g})}catch(T){if(L(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const n=await Ht(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:et});if(await gt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new _s}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:et}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new _s}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await pn(this.storage,this.storageKey));const{error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:c}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new Ss("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:et});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await pn(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Rv})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new mt;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await $(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await $(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ss("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ht(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<lo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Ht(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=co()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mt}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:kt})})}catch(n){if(L(n))return ev(n)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new mt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await pn(this.storage,this.storageKey));const{data:u,error:c}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:kt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new mt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=uo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new mt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Fe())throw new ks("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ks(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Lu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ks("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Lu("No code detected.");const{data:h,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new ks("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(l);let f=c+d;a&&(f=parseInt(a));const m=f-c;m*1e3<=wn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${d}s`);const v=f-d;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,c);const{data:_,error:T}=await this._getUser(i);if(T)throw T;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:f,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ht(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Zm(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=cv(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await pn(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,c;const{data:d,error:f}=i;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Fe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await pv(async s=>(s>0&&await hv(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:et})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ao(i)&&Date.now()+o-r<wn})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Fe()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ht(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ht(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await _n(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:co()}else if(s&&!s.user&&!s.user){const o=await Ht(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await gt(this.storage,this.storageKey+"-user"),await _n(this.storage,this.storageKey,s)):s.user=co()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<lo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${lo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ao(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ni;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new mt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return ao(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await _n(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Fu(s);await _n(this.storage,this.storageKey,i)}else{const s=Fu(n);await _n(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Fe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/wn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${wn}ms, refresh threshold is ${hl} ticks`),s<=hl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Kf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Fe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await pn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=uo(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Jm>s)return r;const{data:i,error:o}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};r=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=uo(r);n!=null&&n.allowExpired||Sv(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const c=kv(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,o,lv(`${l}.${a}`)))throw new ml("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}Br.nextInstanceID=0;const Dv=Br;class Mv extends Dv{constructor(e){super(e)}}var Fv=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(d){o(d)}}function a(c){try{u(r.throw(c))}catch(d){o(d)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class zv{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=qm(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:$m,realtime:Dm,auth:Object.assign(Object.assign({},Um),{storageKey:a}),global:Lm},c=Vm(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Bm(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new nm(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Am(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new bg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Fv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:u},c,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mv({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:a,debug:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new wm(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Bv=(t,e,n)=>new zv(t,e,n);function Wv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Wv()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hv="https://adyyulsqzuccexwulyyb.supabase.co",Vv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFkeXl1bHNxenVjY2V4d3VseXliIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQzMDI2NjAsImV4cCI6MjA2OTg3ODY2MH0.pDPf_BiUxVtotMQhsELVCvY8sBBgxPuFDaPj46eESfI",Vu=Bv(Hv,Vv);var qu;(function(t){t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT"})(qu||(qu={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gu;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(Gu||(Gu={}));var Ku;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Ku||(Ku={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=["user","model","function","system"];var Yu;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(Yu||(Yu={}));var Ju;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Ju||(Ju={}));var Xu;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Xu||(Xu={}));var Zu;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(Zu||(Zu={}));var ui;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER"})(ui||(ui={}));var ec;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(ec||(ec={}));var tc;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(tc||(tc={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class yn extends Se{constructor(e,n){super(e),this.response=n}}class Qf extends Se{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class en extends Se{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="https://generativelanguage.googleapis.com",Gv="v1beta",Kv="0.14.1",Qv="genai-js";var ln;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(ln||(ln={}));class Yv{constructor(e,n,r,s,i){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||Gv;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||qv}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function Jv(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${Qv}/${Kv}`),e.join(" ")}async function Xv(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",Jv(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new en(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new en(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new en(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function Zv(t,e,n,r,s,i){const o=new Yv(t,e,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},ry(i)),{method:"POST",headers:await Xv(o),body:s})}}async function Zr(t,e,n,r,s,i,o=fetch){const{url:l,fetchOptions:a}=await Zv(t,e,n,r,s,i);return ey(l,a,o)}async function ey(t,e,n=fetch){let r;try{r=await n(t,e)}catch(s){ty(s,t)}return r.ok||await ny(r,t),r}function ty(t,e){let n=t;throw t instanceof Qf||t instanceof en||(n=new Se(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function ny(t,e){let n="",r;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new Qf(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function ry(t){const e={};if((t==null?void 0:t.timeout)>=0){const n=new AbortController,r=n.signal;setTimeout(()=>n.abort(),t.timeout),e.signal=r}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),$s(t.candidates[0]))throw new yn(`${wt(t)}`,t);return sy(t)}else if(t.promptFeedback)throw new yn(`Text not available. ${wt(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),$s(t.candidates[0]))throw new yn(`${wt(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),nc(t)[0]}else if(t.promptFeedback)throw new yn(`Function call not available. ${wt(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),$s(t.candidates[0]))throw new yn(`${wt(t)}`,t);return nc(t)}else if(t.promptFeedback)throw new yn(`Function call not available. ${wt(t)}`,t)},t}function sy(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```python\n"+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function nc(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const iy=[ui.RECITATION,ui.SAFETY];function $s(t){return!!t.finishReason&&iy.includes(t.finishReason)}function wt(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const i=t.candidates[0];$s(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function Wr(t){return this instanceof Wr?(this.v=t,this):new Wr(t)}function oy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(f){r[f]&&(s[f]=function(m){return new Promise(function(v,_){i.push([f,m,v,_])>1||l(f,m)})})}function l(f,m){try{a(r[f](m))}catch(v){d(i[0][3],v)}}function a(f){f.value instanceof Wr?Promise.resolve(f.value.v).then(u,c):d(i[0][2],f)}function u(f){l("next",f)}function c(f){l("throw",f)}function d(f,m){f(m),i.shift(),i.length&&l(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function ly(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=cy(e),[r,s]=n.tee();return{stream:uy(r),response:ay(s)}}async function ay(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return ya(dy(e));e.push(s)}}function uy(t){return oy(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield Wr(n.read());if(s)break;yield yield Wr(ya(r))}})}function cy(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return e.read().then(({value:o,done:l})=>{if(l){if(s.trim()){r.error(new Se("Failed to parse stream"));return}r.close();return}s+=o;let a=s.match(rc),u;for(;a;){try{u=JSON.parse(a[1])}catch{r.error(new Se(`Error parsing JSON response: "${a[1]}"`));return}r.enqueue(u),s=s.substring(a[0].length),a=s.match(rc)}return i()})}}})}function dy(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates)for(const s of r.candidates){const i=s.index;if(n.candidates||(n.candidates=[]),n.candidates[i]||(n.candidates[i]={index:s.index}),n.candidates[i].citationMetadata=s.citationMetadata,n.candidates[i].finishReason=s.finishReason,n.candidates[i].finishMessage=s.finishMessage,n.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){n.candidates[i].content||(n.candidates[i].content={role:s.content.role||"user",parts:[]});const o={};for(const l of s.content.parts)l.text&&(o.text=l.text),l.functionCall&&(o.functionCall=l.functionCall),l.executableCode&&(o.executableCode=l.executableCode),l.codeExecutionResult&&(o.codeExecutionResult=l.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[i].content.parts.push(o)}}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t,e,n,r){const s=await Zr(e,ln.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return ly(s)}async function Jf(t,e,n,r){const i=await(await Zr(e,ln.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:ya(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function Hr(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return fy(e)}function fy(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),s=!0):(e.parts.push(i),r=!0);if(r&&s)throw new Se("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new Se("No content is provided for sending chat message.");return r?e:n}function hy(t,e){let n={};const r=t.generateContentRequest!=null;if(t.contents){if(r)throw new en("CountTokensRequest must have one of contents or generateContentRequest, not both.");n=Object.assign({},t)}else if(r)n=Object.assign({},t),n.generateContentRequest.model=e;else{const s=Hr(t);n.contents=[s]}return n}function sc(t){let e;return t.contents?e=t:e={contents:[Hr(t)]},t.systemInstruction&&(e.systemInstruction=Xf(t.systemInstruction)),e}function py(t){return typeof t=="string"||Array.isArray(t)?{content:Hr(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],gy={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function my(t){let e=!1;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new Se(`First content should be with role 'user', got ${r}`);if(!Qu.includes(r))throw new Se(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Qu)}`);if(!Array.isArray(s))throw new Se("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new Se("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const l of s)for(const a of ic)a in l&&(i[a]+=1);const o=gy[r];for(const l of ic)if(!o.includes(l)&&i[l]>0)throw new Se(`Content with role '${r}' can't contain '${l}' part`);e=!0}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="SILENT_ERROR";class vy{constructor(e,n,r,s){this.model=n,this.params=r,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(my(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var n,r,s,i,o,l;await this._sendPromise;const a=Hr(e),u={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(i=this.params)===null||i===void 0?void 0:i.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,a]};let c;return this._sendPromise=this._sendPromise.then(()=>Jf(this._apiKey,this.model,u,this.requestOptions)).then(d=>{var f;if(d.response.candidates&&d.response.candidates.length>0){this._history.push(a);const m=Object.assign({parts:[],role:"model"},(f=d.response.candidates)===null||f===void 0?void 0:f[0].content);this._history.push(m)}else{const m=wt(d.response);m&&console.warn(`sendMessage() was unsuccessful. ${m}. Inspect response object for details.`)}c=d}),await this._sendPromise,c}async sendMessageStream(e){var n,r,s,i,o,l;await this._sendPromise;const a=Hr(e),u={safetySettings:(n=this.params)===null||n===void 0?void 0:n.safetySettings,generationConfig:(r=this.params)===null||r===void 0?void 0:r.generationConfig,tools:(s=this.params)===null||s===void 0?void 0:s.tools,toolConfig:(i=this.params)===null||i===void 0?void 0:i.toolConfig,systemInstruction:(o=this.params)===null||o===void 0?void 0:o.systemInstruction,cachedContent:(l=this.params)===null||l===void 0?void 0:l.cachedContent,contents:[...this._history,a]},c=Yf(this._apiKey,this.model,u,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>c).catch(d=>{throw new Error(oc)}).then(d=>d.response).then(d=>{if(d.candidates&&d.candidates.length>0){this._history.push(a);const f=Object.assign({},d.candidates[0].content);f.role||(f.role="model"),this._history.push(f)}else{const f=wt(d);f&&console.warn(`sendMessageStream() was unsuccessful. ${f}. Inspect response object for details.`)}}).catch(d=>{d.message!==oc&&console.error(d)}),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yy(t,e,n,r){return(await Zr(e,ln.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wy(t,e,n,r){return(await Zr(e,ln.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function _y(t,e,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await Zr(e,ln.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n,r){this.apiKey=e,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=Xf(n.systemInstruction),this.cachedContent=n.cachedContent,this.requestOptions=r||{}}async generateContent(e){var n;const r=sc(e);return Jf(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},r),this.requestOptions)}async generateContentStream(e){var n;const r=sc(e);return Yf(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},r),this.requestOptions)}startChat(e){var n;return new vy(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this.requestOptions)}async countTokens(e){const n=hy(e,this.model);return yy(this.apiKey,this.model,n,this.requestOptions)}async embedContent(e){const n=py(e);return wy(this.apiKey,this.model,n,this.requestOptions)}async batchEmbedContents(e){return _y(this.apiKey,this.model,e,this.requestOptions)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new Se("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new lc(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n){if(!e.name)throw new en("Cached content must contain a `name` field.");if(!e.model)throw new en("Cached content must contain a `model` field.");const r={model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e};return new lc(this.apiKey,r,n)}}const vl=["AIzaSyB9QDIoLmfWnQI9Qy9PXGeeNvNyESLWMr0","AIzaSyAAk-o1ZQIxHos0ixXdm59qt8jOOEsc_0M","AIzaSyBZcxKcFkMLUBXtYRp5UHoXwGB5mQ1MJVI","AIzaSyDc60zrn69_ofEXMdU4gCOT5QUphrPgiBM","AIzaSyAmh6oy770fHumwmpE7_tyT1cjwiV4jtcA","AIzaSyBGmJySiyngEnM42xm9AmaLW740EGd6IiA","AIzaSyBzNyuYJmHg21U971-mKkwFG9eyrrnS3WY","AIzaSyAo6eVQmkYXoyTXOEqyh4GI8QavY9njqHw","AIzaSyATElhVEnr5Fwnu4J1Ig-yotMLw6gnuxeA","AIzaSyD6RG-whtz_4C56HCshnIUU0T9YWXtnILE"];let Mn=0,ac=0;const uc=6500;function ky(){const t=vl[Mn];return Mn=(Mn+1)%vl.length,t}async function Ey(){const e=Date.now()-ac;if(e<uc){const n=uc-e;console.log(`Rate limiting: waiting ${Math.ceil(n/1e3)}s before next request...`),await new Promise(r=>setTimeout(r,n))}ac=Date.now()}async function Es(t,e=vl.length){var r,s;let n=null;for(let i=0;i<e;i++)try{await Ey();const o=ky(),a=new Sy(o).getGenerativeModel({model:"gemini-2.0-flash-exp"});return console.log(`Attempt ${i+1}/${e} with API key #${Mn}`),(await a.generateContent(t)).response.text().trim()}catch(o){if(n=o,console.warn(`API key #${Mn} failed:`,o.message),o.status===429||(r=o.message)!=null&&r.includes("quota")||(s=o.message)!=null&&s.includes("rate limit")){console.log(`API key #${Mn} hit rate limit, switching to next key...`);continue}else throw o}throw new Error(`All API keys exhausted. Last error: ${(n==null?void 0:n.message)||"Unknown error"}`)}async function xy(t){const{question_statement:e,options:n,question_type:r,answer:s}=t;let i=[];try{Array.isArray(n)?i=n:typeof n=="string"?n.trim().startsWith("[")?i=JSON.parse(n):i=[n]:n&&(i=[String(n)])}catch(o){console.warn("Error parsing options, using as single option:",o),i=[String(n||"")]}try{let o="";switch(r){case"MCQ":if(i.length===0)return console.warn("No options found for MCQ question, marking as wrong"),!0;o=`You are a strict academic question validator. Your job is to verify if this Multiple Choice Question (MCQ) is CORRECTLY formulated with EXACTLY ONE correct answer.

Question: ${e}

Options:
${i.map((I,A)=>`${String.fromCharCode(65+A)}. ${I}`).join(`
`)}

CRITICAL VALIDATION RULES FOR MCQ:
1. An MCQ must have EXACTLY ONE correct answer. If there are ZERO correct answers OR MORE THAN ONE correct answer, it is WRONG.
2. Solve the question completely and rigorously using proper academic methods.
3. Verify each option carefully - check if it's correct or incorrect.
4. Count how many options are correct.
5. The question is WRONG if:
   - No correct answer exists in the options
   - More than one option is correct
   - The question statement is ambiguous, unclear, or contains errors
   - The question is unsolvable with the given information
   - Options contain errors or are poorly worded
   - The correct mathematical/scientific answer is NOT present in the options
6. The question is CORRECT only if:
   - Exactly ONE option is the correct answer
   - The question is clearly stated and solvable
   - All options are properly formatted
   - The correct answer is definitively present

RESPONSE FORMAT:
Line 1: "VERDICT: CORRECT" or "VERDICT: WRONG"
Line 2: "CORRECT_OPTIONS_COUNT: [number]"
Line 3-5: Brief explanation of your reasoning

Your response:`;const l=await Es(o);console.log("MCQ Response:",l);const a=l.split(`
`),u=a.find(I=>I.includes("VERDICT:")),c=a.find(I=>I.includes("CORRECT_OPTIONS_COUNT:"));if(c){const I=c.match(/CORRECT_OPTIONS_COUNT:\s*(\d+)/i);if(I){const A=parseInt(I[1]);if(A!==1)return console.log(`MCQ marked as WRONG: Found ${A} correct options instead of exactly 1`),!0}}return u&&u.toUpperCase().includes("WRONG");case"MSQ":if(i.length===0)return console.warn("No options found for MSQ question, marking as wrong"),!0;o=`You are a strict academic question validator. Your job is to verify if this Multiple Select Question (MSQ) is CORRECTLY formulated with AT LEAST ONE correct answer.

Question: ${e}

Options:
${i.map((I,A)=>`${String.fromCharCode(65+A)}. ${I}`).join(`
`)}

CRITICAL VALIDATION RULES FOR MSQ:
1. An MSQ can have one or more correct answers (but at least ONE must be correct).
2. Solve the question completely and rigorously using proper academic methods.
3. Verify each option carefully - check if it's correct or incorrect.
4. Count how many options are correct.
5. The question is WRONG if:
   - No correct answer exists in the options
   - The question statement is ambiguous, unclear, or contains errors
   - The question is unsolvable with the given information
   - Options contain errors or are poorly worded
   - The mathematically/scientifically correct answers are NOT present in the options
6. The question is CORRECT only if:
   - At least one option is correct
   - The question is clearly stated and solvable
   - All options are properly formatted
   - All correct answers are definitively present

RESPONSE FORMAT:
Line 1: "VERDICT: CORRECT" or "VERDICT: WRONG"
Line 2: "CORRECT_OPTIONS_COUNT: [number]"
Line 3-5: Brief explanation of your reasoning

Your response:`;const f=await Es(o);console.log("MSQ Response:",f);const m=f.split(`
`),v=m.find(I=>I.includes("VERDICT:")),_=m.find(I=>I.includes("CORRECT_OPTIONS_COUNT:"));if(_){const I=_.match(/CORRECT_OPTIONS_COUNT:\s*(\d+)/i);if(I&&parseInt(I[1])===0)return console.log("MSQ marked as WRONG: Found 0 correct options"),!0}return v&&v.toUpperCase().includes("WRONG");case"NAT":o=`You are a strict academic question validator. Your job is to verify if this Numerical Answer Type (NAT) question is CORRECTLY formulated.

Question: ${e}

CRITICAL VALIDATION RULES FOR NAT:
1. Solve the question completely using rigorous mathematical/scientific methods.
2. Verify that a specific numerical answer can be calculated.
3. The question is WRONG if:
   - The question is ambiguous or unclear
   - Missing critical information needed to solve
   - Contains mathematical/scientific errors
   - Cannot be solved to get a specific numerical value
   - The solution requires assumptions not stated in the question
   - Units are inconsistent or missing when required
4. The question is CORRECT only if:
   - Can be solved to get a specific numerical answer
   - All necessary information is provided
   - Question is clearly stated
   - Mathematically/scientifically sound

RESPONSE FORMAT:
Line 1: "VERDICT: CORRECT" or "VERDICT: WRONG"
Line 2: "NUMERICAL_ANSWER: [your calculated answer]" (if solvable)
Line 3-5: Brief explanation of your reasoning

Your response:`;const g=await Es(o);console.log("NAT Response:",g);const p=g.split(`
`).find(I=>I.includes("VERDICT:"));return p&&p.toUpperCase().includes("WRONG");case"SUB":case"Subjective":o=`You are a strict academic question validator. Your job is to verify if this Subjective question is CORRECTLY formulated.

Question: ${e}

CRITICAL VALIDATION RULES FOR SUBJECTIVE:
1. Analyze if the question is clearly stated and answerable.
2. Check if sufficient information is provided for a complete answer.
3. The question is WRONG if:
   - The question is ambiguous, vague, or unclear
   - Missing critical context or information
   - Contains errors or contradictions
   - Too broad or impossible to answer definitively
   - Poorly worded or grammatically incorrect
4. The question is CORRECT only if:
   - Clearly stated and unambiguous
   - Can be answered with a coherent explanation/proof
   - All necessary context is provided
   - Academically sound and meaningful

RESPONSE FORMAT:
Line 1: "VERDICT: CORRECT" or "VERDICT: WRONG"
Line 2-4: Brief explanation of your reasoning

Your response:`;const E=await Es(o);console.log("SUB Response:",E);const x=E.split(`
`).find(I=>I.includes("VERDICT:"));return x&&x.toUpperCase().includes("WRONG");default:return console.warn(`Unknown question type: ${r}. Marking as wrong by default.`),!0}}catch(o){throw console.error("Error checking question with Gemini:",o),o}}function Cy({title:t,titleId:e,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?N.createElement("title",{id:e},t):null,N.createElement("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0 1 12.548-3.364l1.903 1.903h-3.183a.75.75 0 1 0 0 1.5h4.992a.75.75 0 0 0 .75-.75V4.356a.75.75 0 0 0-1.5 0v3.18l-1.9-1.9A9 9 0 0 0 3.306 9.67a.75.75 0 1 0 1.45.388Zm15.408 3.352a.75.75 0 0 0-.919.53 7.5 7.5 0 0 1-12.548 3.364l-1.902-1.903h3.183a.75.75 0 0 0 0-1.5H2.984a.75.75 0 0 0-.75.75v4.992a.75.75 0 0 0 1.5 0v-3.18l1.9 1.9a9 9 0 0 0 15.059-4.035.75.75 0 0 0-.53-.918Z",clipRule:"evenodd"}))}const cc=N.forwardRef(Cy);function Ty({title:t,titleId:e,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?N.createElement("title",{id:e},t):null,N.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Oy=N.forwardRef(Ty);function Ry({title:t,titleId:e,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?N.createElement("title",{id:e},t):null,N.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const yl=N.forwardRef(Ry);function jy({title:t,titleId:e,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?N.createElement("title",{id:e},t):null,N.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm11.378-3.917c-.89-.777-2.366-.777-3.255 0a.75.75 0 0 1-.988-1.129c1.454-1.272 3.776-1.272 5.23 0 1.513 1.324 1.513 3.518 0 4.842a3.75 3.75 0 0 1-.837.552c-.676.328-1.028.774-1.028 1.152v.75a.75.75 0 0 1-1.5 0v-.75c0-1.279 1.06-2.107 1.875-2.502.182-.088.351-.199.503-.331.83-.727.83-1.857 0-2.584ZM12 18a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z",clipRule:"evenodd"}))}const Ny=N.forwardRef(jy);function Py({title:t,titleId:e,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?N.createElement("title",{id:e},t):null,N.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const Ay=N.forwardRef(Py),tt=({children:t,className:e="",...n})=>y.jsx("button",{className:`
        bg-primary text-text font-semibold py-2 px-4 rounded-xl
        hover:bg-accent transition-all duration-300 ease-in-out
        focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background
        disabled:opacity-50 disabled:cursor-not-allowed
        ${e}
      `,...n,children:t}),Iy=({question:t,onCheck:e,isChecking:n,disabled:r=!1})=>{const{question_statement:s,options:i,question_type:o,is_wrong:l,check_error:a,recheck_count:u}=t,c=()=>n?y.jsx(cc,{className:"h-6 w-6 text-primary animate-spin"}):a?y.jsx(yl,{className:"h-6 w-6 text-error"}):l==null?y.jsx(Ny,{className:"h-6 w-6 text-textSecondary"}):l?y.jsx(Ay,{className:"h-6 w-6 text-error"}):y.jsx(Oy,{className:"h-6 w-6 text-success"}),d=()=>n?y.jsx("span",{className:"text-primary font-medium",children:"Checking..."}):a?y.jsx("span",{className:"text-error font-medium",children:"Check Error"}):l==null?y.jsx("span",{className:"text-textSecondary font-medium",children:"Not Checked"}):l?y.jsx("span",{className:"text-error font-medium",children:"Wrong Question"}):y.jsx("span",{className:"text-success font-medium",children:"Correct Question"}),f=()=>n?"border-primary shadow-md shadow-primary/30":a?"border-error shadow-md shadow-error/30":l==null?"border-border":l?"border-error shadow-md shadow-error/30":"border-success shadow-md shadow-success/30",m=v=>{switch(v){case"MCQ":return"Multiple Choice Question";case"MSQ":return"Multiple Select Question";case"NAT":return"Numerical Answer Type";case"SUB":return"Subjective Question";default:return v}};return y.jsxs("div",{className:`
        bg-surface p-6 rounded-xl border-2 transition-all duration-300 ease-in-out
        hover:scale-[1.02] hover:shadow-lg
        ${f()}
        animate-fade-in-up
      `,children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-sm font-semibold text-primary uppercase tracking-wider",children:o}),y.jsx("p",{className:"text-xs text-textSecondary",children:m(o)}),u>0&&y.jsxs("div",{className:"mt-1 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Rechecked ",u,"x"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[c(),d()]})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-textSecondary text-sm mb-2 font-medium",children:"Question Statement:"}),y.jsx("p",{className:"text-text text-base leading-relaxed bg-background/50 p-3 rounded-lg",children:s})]}),i&&i.length>0&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h4",{className:"text-textSecondary text-sm mb-2 font-medium",children:"Options:"}),y.jsx("div",{className:"space-y-2",children:i.map((v,_)=>y.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[y.jsxs("span",{className:"text-primary font-semibold min-w-[20px]",children:[String.fromCharCode(65+_),"."]}),y.jsx("span",{className:"text-textSecondary",children:v})]},_))})]}),a&&y.jsx("div",{className:"bg-error/10 border border-error/20 rounded-lg p-3 mb-4",children:y.jsx("p",{className:"text-error text-sm",children:"An error occurred during AI check. Please try again or check your API configuration."})}),y.jsx("div",{className:"mt-6 pt-4 border-t border-border",children:y.jsx(tt,{onClick:e,disabled:n||r,className:"w-full py-3 text-sm font-medium",children:n?y.jsxs(y.Fragment,{children:[y.jsx(cc,{className:"h-4 w-4 mr-2 animate-spin"}),"Checking with Gemini AI..."]}):r?"Auto-check in progress...":"Check Question"})})]})};function by({title:t,titleId:e,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?N.createElement("title",{id:e},t):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const dc=N.forwardRef(by);function Ly({title:t,titleId:e,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?N.createElement("title",{id:e},t):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}const $y=N.forwardRef(Ly);function Uy({title:t,titleId:e,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?N.createElement("title",{id:e},t):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const Dy=N.forwardRef(Uy);function My({title:t,titleId:e,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?N.createElement("title",{id:e},t):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const fc=N.forwardRef(My);function Fy({title:t,titleId:e,...n},r){return N.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?N.createElement("title",{id:e},t):null,N.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const zy=N.forwardRef(Fy),By=()=>{const[t,e]=N.useState([]),[n,r]=N.useState(!0),[s,i]=N.useState(null),[o,l]=N.useState(new Set),[a,u]=N.useState(!1),[c,d]=N.useState(!1),[f,m]=N.useState(0),[v,_]=N.useState({total:0,processed:0,correct:0,wrong:0,errors:0}),[T,g]=N.useState(!1),h=N.useRef(!1);N.useEffect(()=>{p()},[]),N.useEffect(()=>{a&&!c&&!h.current&&I()},[a,c,f]);const p=async()=>{r(!0),i(null);try{const{data:b,error:he}=await Vu.from("new_questions").select("*").order("created_at",{ascending:!1});if(he)throw he;const C=b.map(O=>({...O,options:O.options?typeof O.options=="string"?O.options.trim().startsWith("[")?JSON.parse(O.options):[O.options]:Array.isArray(O.options)?O.options:[O.options]:[]}));e(C||[])}catch(b){console.error("Error fetching questions:",b),i('Failed to load questions. Please ensure your Supabase project is configured and the "new_questions" table exists with RLS policies allowing public read access.')}finally{r(!1)}},w=()=>{const b=t.filter(he=>he.is_wrong===null||he.is_wrong===void 0);if(b.length===0){i("No unchecked questions found. All questions have already been processed.");return}u(!0),d(!1),m(0),g(!1),_({total:b.length,processed:0,correct:0,wrong:0,errors:0}),i(null),h.current=!1},E=()=>{if(t.length===0){i("No questions found to recheck.");return}u(!0),d(!1),m(0),g(!0),_({total:t.length,processed:0,correct:0,wrong:0,errors:0}),i(null),h.current=!1},k=()=>{d(!0)},x=()=>{d(!1)},j=()=>{u(!1),d(!1),m(0),l(new Set),g(!1),h.current=!1},I=async()=>{if(c||!a||h.current)return;const b=T?t:t.filter(C=>C.is_wrong===null||C.is_wrong===void 0);if(f>=b.length){u(!1),d(!1),m(0),l(new Set),g(!1),h.current=!1,i(`Auto-check completed! Processed ${v.total} questions: ${v.correct} correct, ${v.wrong} wrong, ${v.errors} errors.`);return}const he=b[f];if(!he){m(C=>C+1);return}h.current=!0,await A(he.id,!0),h.current=!1,m(C=>C+1)},A=async(b,he=!1)=>{const C=t.find(O=>O.id===b);if(C){l(O=>new Set([...O,b]));try{const O=await xy(C),P=(C.recheck_count||0)+(T?1:0),{error:F}=await Vu.from("new_questions").update({is_wrong:O,recheck_count:P,status:T?String(P):C.status}).eq("id",b);if(F)throw F;e(W=>W.map(ht=>ht.id===b?{...ht,is_wrong:O,check_error:!1,recheck_count:P}:ht)),he&&_(W=>({...W,processed:W.processed+1,correct:W.correct+(O?0:1),wrong:W.wrong+(O?1:0)}))}catch(O){console.error(`Error checking question ${b}:`,O),e(P=>P.map(F=>F.id===b?{...F,is_wrong:!0,check_error:!0}:F)),he?(_(P=>({...P,processed:P.processed+1,errors:P.errors+1})),i(`Error on question ${v.processed+1}: ${O.message}. Continuing...`),await new Promise(P=>setTimeout(P,5e3)),i(null)):i(O.message||"Failed to check question. Please try again.")}finally{l(O=>{const P=new Set(O);return P.delete(b),P})}}};if(n)return y.jsxs("div",{className:"flex flex-col justify-center items-center h-[calc(100vh-400px)] md:h-[calc(100vh-500px)] text-text text-xl animate-pulse",children:[y.jsx(dc,{className:"h-12 w-12 text-primary mb-4 animate-spin"}),"Loading questions..."]});if(s&&t.length===0)return y.jsxs("div",{className:"text-error text-center p-8 mt-12 bg-surface rounded-xl mx-auto max-w-2xl shadow-lg",children:[y.jsx(yl,{className:"h-16 w-16 text-error mx-auto mb-4"}),y.jsx("p",{className:"text-xl font-semibold mb-2",children:"Error Loading Questions"}),y.jsx("p",{className:"text-textSecondary",children:s}),y.jsx(tt,{onClick:p,className:"mt-6",children:"Retry Loading"})]});const ae=t.filter(b=>b.is_wrong===null||b.is_wrong===void 0).length,Mt=t.length-ae,Ft=t.filter(b=>b.is_wrong===!1).length,es=t.filter(b=>b.is_wrong===!0).length,dn={total:t.length,recheck0:t.filter(b=>!b.recheck_count||b.recheck_count===0).length,recheck1:t.filter(b=>b.recheck_count===1).length,recheck2:t.filter(b=>b.recheck_count===2).length,recheck3Plus:t.filter(b=>b.recheck_count>=3).length};return y.jsxs("div",{className:"container mx-auto p-4 max-w-7xl mt-8",children:[y.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-10 gap-4 animate-fade-in-up delay-300",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-text text-center md:text-left",children:"Question Checker"}),y.jsx("p",{className:"text-textSecondary mt-2",children:a?`${T?"Rechecking":"Auto-checking"} in progress... (${v.processed}/${v.total})`:"Use auto-check or recheck to validate questions with Gemini AI"})]}),y.jsx("div",{className:"flex gap-3",children:a?y.jsxs(y.Fragment,{children:[c?y.jsxs(tt,{onClick:x,className:"px-6 py-3 text-lg bg-success hover:bg-success/80",children:[y.jsx(fc,{className:"h-5 w-5 mr-2"}),"Resume"]}):y.jsxs(tt,{onClick:k,className:"px-6 py-3 text-lg bg-warning hover:bg-warning/80",children:[y.jsx(Dy,{className:"h-5 w-5 mr-2"}),"Pause"]}),y.jsxs(tt,{onClick:j,className:"px-6 py-3 text-lg bg-error hover:bg-error/80",children:[y.jsx(zy,{className:"h-5 w-5 mr-2"}),"Stop"]})]}):y.jsxs(y.Fragment,{children:[y.jsxs(tt,{onClick:w,disabled:ae===0,className:"px-6 py-3 text-lg bg-success hover:bg-success/80",children:[y.jsx(fc,{className:"h-5 w-5 mr-2"}),"Auto Check (",ae,")"]}),y.jsxs(tt,{onClick:E,disabled:t.length===0,className:"px-6 py-3 text-lg bg-blue-600 hover:bg-blue-700",children:[y.jsx($y,{className:"h-5 w-5 mr-2"}),"Recheck All (",t.length,")"]}),y.jsxs(tt,{onClick:p,className:"px-6 py-3 text-lg",children:[y.jsx(dc,{className:"h-5 w-5 mr-2"}),"Refresh"]})]})})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-8 animate-fade-in-up delay-400",children:[y.jsxs("div",{className:"bg-surface p-4 rounded-xl text-center",children:[y.jsx("div",{className:"text-2xl font-bold text-text",children:t.length}),y.jsx("div",{className:"text-sm text-textSecondary",children:"Total"})]}),y.jsxs("div",{className:"bg-surface p-4 rounded-xl text-center",children:[y.jsx("div",{className:"text-2xl font-bold text-textSecondary",children:ae}),y.jsx("div",{className:"text-sm text-textSecondary",children:"Unchecked"})]}),y.jsxs("div",{className:"bg-surface p-4 rounded-xl text-center",children:[y.jsx("div",{className:"text-2xl font-bold text-success",children:Ft}),y.jsx("div",{className:"text-sm text-textSecondary",children:"Correct"})]}),y.jsxs("div",{className:"bg-surface p-4 rounded-xl text-center",children:[y.jsx("div",{className:"text-2xl font-bold text-error",children:es}),y.jsx("div",{className:"text-sm text-textSecondary",children:"Wrong"})]}),y.jsxs("div",{className:"bg-surface p-4 rounded-xl text-center",children:[y.jsx("div",{className:"text-2xl font-bold text-text",children:Mt}),y.jsx("div",{className:"text-sm text-textSecondary",children:"Checked"})]})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8 animate-fade-in-up delay-450",children:[y.jsxs("div",{className:"bg-surface p-4 rounded-xl text-center border-2 border-blue-500/30",children:[y.jsx("div",{className:"text-2xl font-bold text-blue-600",children:dn.recheck0}),y.jsx("div",{className:"text-sm text-textSecondary",children:"Never Rechecked"})]}),y.jsxs("div",{className:"bg-surface p-4 rounded-xl text-center border-2 border-green-500/30",children:[y.jsx("div",{className:"text-2xl font-bold text-green-600",children:dn.recheck1}),y.jsx("div",{className:"text-sm text-textSecondary",children:"Rechecked 1x"})]}),y.jsxs("div",{className:"bg-surface p-4 rounded-xl text-center border-2 border-yellow-500/30",children:[y.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:dn.recheck2}),y.jsx("div",{className:"text-sm text-textSecondary",children:"Rechecked 2x"})]}),y.jsxs("div",{className:"bg-surface p-4 rounded-xl text-center border-2 border-orange-500/30",children:[y.jsx("div",{className:"text-2xl font-bold text-orange-600",children:dn.recheck3Plus}),y.jsx("div",{className:"text-sm text-textSecondary",children:"Rechecked 3x+"})]})]}),a&&y.jsxs("div",{className:"bg-surface p-6 rounded-xl mb-8 animate-fade-in-up",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"text-xl font-semibold text-text",children:T?"Recheck Progress":"Auto-Check Progress"}),y.jsx("div",{className:"text-sm text-textSecondary",children:c?"Paused":"Running"})]}),y.jsx("div",{className:"w-full bg-background rounded-full h-3 mb-4",children:y.jsx("div",{className:"bg-primary h-3 rounded-full transition-all duration-300",style:{width:`${v.processed/v.total*100}%`}})}),y.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center text-sm",children:[y.jsxs("div",{children:[y.jsx("div",{className:"text-lg font-semibold text-text",children:v.processed}),y.jsx("div",{className:"text-textSecondary",children:"Processed"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-lg font-semibold text-success",children:v.correct}),y.jsx("div",{className:"text-textSecondary",children:"Correct"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-lg font-semibold text-error",children:v.wrong}),y.jsx("div",{className:"text-textSecondary",children:"Wrong"})]}),y.jsxs("div",{children:[y.jsx("div",{className:"text-lg font-semibold text-warning",children:v.errors}),y.jsx("div",{className:"text-textSecondary",children:"Errors"})]})]})]}),s&&y.jsx("div",{className:`border rounded-xl p-4 mb-6 animate-fade-in-up ${s.includes("completed")?"bg-success/10 border-success/20 text-success":"bg-error/10 border-error/20 text-error"}`,children:y.jsx("p",{className:"text-center",children:s})}),t.length===0&&!n&&y.jsxs("div",{className:"text-textSecondary text-center text-lg mt-16 p-8 bg-surface rounded-xl shadow-lg animate-fade-in-up delay-400",children:[y.jsx(yl,{className:"h-16 w-16 text-textSecondary mx-auto mb-4"}),y.jsx("p",{className:"text-xl font-semibold mb-2",children:"No Questions Found"}),y.jsx("p",{children:"Add some questions to the `new_questions` table in Supabase to get started!"}),y.jsx(tt,{onClick:p,className:"mt-6",children:"Refresh List"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(b=>y.jsx(Iy,{question:b,onCheck:()=>A(b.id),isChecking:o.has(b.id),disabled:a},b.id))})]})};function Wy(){return y.jsxs("div",{className:"min-h-screen bg-background text-text",children:[y.jsx(Rg,{}),y.jsx("main",{className:"py-8",children:y.jsx(By,{})})]})}ho.createRoot(document.getElementById("root")).render(y.jsx(mh.StrictMode,{children:y.jsx(Wy,{})}));
